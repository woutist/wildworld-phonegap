!function(e){var i={};function n(o){if(i[o])return i[o].exports;var t=i[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=i,n.d=function(e,i,o){n.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,i){if(1&i&&(e=n(e)),8&i)return e;if(4&i&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var t in e)n.d(o,t,function(i){return e[i]}.bind(null,t));return o},n.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(i,"a",i),i},n.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},n.p="",n(n.s=4)}([function(e,i,n){var o=n(1);"string"==typeof o&&(o=[[e.i,o,""]]);var t={insert:"head",singleton:!1};n(3)(o,t);o.locals&&(e.exports=o.locals)},function(e,i,n){(e.exports=n(2)(!1)).push([e.i,'a,abbr,address,article,aside,audio,b,blockquote,body,button,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,hr,header,hgroup,html,i,iframe,img,input,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,tr,ul,var,video,*:after,*:before{margin:0;padding:0;outline:none;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}mark{background-color:transparent}ul,ol{list-style-type:none}table{border-spacing:0;border-collapse:collapse}caption,th{text-align:left}q:after,q:before{content:""}a{color:inherit}body,html{height:100%;width:100%}html{display:table;table-layout:fixed}body{font-family:Arial, Helvetica, sans-serif;text-align:center;background-color:#000;color:#fff;display:table-cell;vertical-align:middle}#game-content{margin:0 auto;width:100%;max-width:800px;position:relative}#game-content canvas{max-width:100%;height:auto;margin-left:auto;margin-right:auto}\n',""])},function(e,i,n){"use strict";e.exports=function(e){var i=[];return i.toString=function(){return this.map((function(i){var n=function(e,i){var n=e[1]||"",o=e[3];if(!o)return n;if(i&&"function"==typeof btoa){var t=(l=o,s=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(d," */")),a=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot).concat(e," */")}));return[n].concat(a).concat([t]).join("\n")}var l,s,d;return[n].join("\n")}(i,e);return i[2]?"@media ".concat(i[2],"{").concat(n,"}"):n})).join("")},i.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},t=0;t<this.length;t++){var a=this[t][0];null!=a&&(o[a]=!0)}for(var l=0;l<e.length;l++){var s=e[l];null!=s[0]&&o[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),i.push(s))}},i}},function(e,i,n){"use strict";var o,t={},a=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},l=function(){var e={};return function(i){if(void 0===e[i]){var n=document.querySelector(i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[i]=n}return e[i]}}();function s(e,i){for(var n=[],o={},t=0;t<e.length;t++){var a=e[t],l=i.base?a[0]+i.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};o[l]?o[l].parts.push(s):n.push(o[l]={id:l,parts:[s]})}return n}function d(e,i){for(var n=0;n<e.length;n++){var o=e[n],a=t[o.id],l=0;if(a){for(a.refs++;l<a.parts.length;l++)a.parts[l](o.parts[l]);for(;l<o.parts.length;l++)a.parts.push(h(o.parts[l],i))}else{for(var s=[];l<o.parts.length;l++)s.push(h(o.parts[l],i));t[o.id]={id:o.id,refs:1,parts:s}}}}function r(e){var i=document.createElement("style");if(void 0===e.attributes.nonce){var o=n.nc;o&&(e.attributes.nonce=o)}if(Object.keys(e.attributes).forEach((function(n){i.setAttribute(n,e.attributes[n])})),"function"==typeof e.insert)e.insert(i);else{var t=l(e.insert||"head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(i)}return i}var m,c=(m=[],function(e,i){return m[e]=i,m.filter(Boolean).join("\n")});function u(e,i,n,o){var t=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=c(i,t);else{var a=document.createTextNode(t),l=e.childNodes;l[i]&&e.removeChild(l[i]),l.length?e.insertBefore(a,l[i]):e.appendChild(a)}}function b(e,i,n){var o=n.css,t=n.media,a=n.sourceMap;if(t&&e.setAttribute("media",t),a&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var p=null,y=0;function h(e,i){var n,o,t;if(i.singleton){var a=y++;n=p||(p=r(i)),o=u.bind(null,n,a,!1),t=u.bind(null,n,a,!0)}else n=r(i),o=b.bind(null,n,i),t=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;o(e=i)}else t()}}e.exports=function(e,i){(i=i||{}).attributes="object"==typeof i.attributes?i.attributes:{},i.singleton||"boolean"==typeof i.singleton||(i.singleton=a());var n=s(e,i);return d(n,i),function(e){for(var o=[],a=0;a<n.length;a++){var l=n[a],r=t[l.id];r&&(r.refs--,o.push(r))}e&&d(s(e,i),i);for(var m=0;m<o.length;m++){var c=o[m];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete t[c.id]}}}}},function(e,i,n){"use strict";n.r(i);n(0);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t=function(){return"object"===("undefined"==typeof cordova?"undefined":o(cordova))&&"android"===window.cordova.platformId},a=function(){var e=document.createElement("canvas"),i=e.getContext("webgl")||e.getContext("experimental-webgl");return!!(i&&i instanceof WebGLRenderingContext)},l=function(e){return e==parseFloat(e)?!(e%2):void 0},s=function(e,i,n){for(var o=!1,t=0,a=i.length;t<a;t++)"intruzi"==e?i[t].randomMove==n&&(o=!0):"kladki"==e&&i[t].isUp==n&&(o=!0);return o},d=function(e){var i=!1;return void 0!==e&&(i=!0),i},r=function(e,i){if((e=parseInt(e,10))>(i=parseInt(i,10))){var n=e;e=i,i=n}return Math.floor(Math.random()*(i-e+1)+e)},m=function(e){return e[Math.floor(Math.random()*e.length)]},c=function(e,i,n){if(t())localStorage.setItem(e,i);else{var o;if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o="; expires="+a.toGMTString()}else o="";document.cookie=e+"="+i+o+"; path=/"}},u=function(e){t()?localStorage.removeItem(e):document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},b=function(e,i){if(t())return i?JSON.parse(localStorage.getItem(e)):localStorage.getItem(e);if(""!==document.cookie)for(var n=document.cookie.split(/; */),o=0;o<n.length;o++){var a=n[o].split("=")[0],l=n[o].split("=")[1];if(a===decodeURIComponent(e))return decodeURIComponent(l)}},p=void 0;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};var h,g,f,v,j,E,x,k,w,T,L,S,B,M,C,I,O,P=16,A=[],G=3,z=3,W=60,_=1.08,D=520,R=440,F=290,Y=200,N=350,K=260,H=480,q={name:"level1",activeIdLevel:1,readyLoad:!1,blockedKeys:!1,backgroundLevel:!1,backgroundColor:!1,backgroundParallax:!1},U=[],J="right",X={main:!1},V=1,Q=0,Z=0,$=!1,ee=0,ie=0,ne=!1,oe=!1,te=0,ae=0,le=!1,se=200,de=function(){ge.load.tilemap("level1","levels/level1.json",null,Phaser.Tilemap.TILED_JSON),A[1]={background:"background4",fog:"yellowFog",fogPositionY:520,fogSpeed:0,positionGround:672,parallax:!0},ge.load.tilemap("level2","levels/level2.json",null,Phaser.Tilemap.TILED_JSON),A[2]={background:"background4",backgroundMoveX:500,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:520,fogSpeed:0,positionGround:672,parallax:!0,timeLimit:200},ge.load.tilemap("level3","levels/level3.json",null,Phaser.Tilemap.TILED_JSON),A[3]={background:"background4",backgroundMoveX:800,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:0,fogSpeed:0,positionGround:96,parallax:!0,timeLimit:200},ge.load.tilemap("level4","levels/level4.json",null,Phaser.Tilemap.TILED_JSON),A[4]={background:"background4",backgroundMoveX:1e3,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-P,positionGround:4*P,parallax:!0},ge.load.tilemap("level5","levels/level5.json",null,Phaser.Tilemap.TILED_JSON),A[5]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level6","levels/level6.json",null,Phaser.Tilemap.TILED_JSON),A[6]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",positionGround:480*P,parallax:!0},ge.load.tilemap("level7","levels/level7.json",null,Phaser.Tilemap.TILED_JSON),A[7]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level8","levels/level8.json",null,Phaser.Tilemap.TILED_JSON),A[8]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level9","levels/level9.json",null,Phaser.Tilemap.TILED_JSON),A[9]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level10","levels/level10.json",null,Phaser.Tilemap.TILED_JSON),A[10]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level11","levels/level11.json",null,Phaser.Tilemap.TILED_JSON),A[11]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level12","levels/level12.json",null,Phaser.Tilemap.TILED_JSON),A[12]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level13","levels/level13.json",null,Phaser.Tilemap.TILED_JSON),A[13]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level14","levels/level14.json",null,Phaser.Tilemap.TILED_JSON),A[14]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level15","levels/level15.json",null,Phaser.Tilemap.TILED_JSON),A[15]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level16","levels/level16.json",null,Phaser.Tilemap.TILED_JSON),A[16]={background:"background5",backgroundRepeatX:!0,backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:-2*P,positionGround:4*P,parallax:!0},ge.load.tilemap("level17","levels/level17.json",null,Phaser.Tilemap.TILED_JSON),A[17]={background:"background4",backgroundColor:"#f3f5ff",fog:"yellowFog",fogPositionY:12*P,positionGround:19*P,parallax:!0},ge.load.tilemap("level18","levels/level18.json",null,Phaser.Tilemap.TILED_JSON),A[18]={background:"the-end",backgroundColor:"#000000",fog:!1,positionGround:!1,parallax:!1},ge.load.image("tiles-1","images/tiles-1.png"),ge.load.spritesheet("dude","images/players1.png",48,64),ge.load.spritesheet("intruder1","images/intruders4.png",48,64),ge.load.spritesheet("intruder2","images/intruders2.png",48,64),ge.load.spritesheet("intruder3","images/intruders3.png",48,64),ge.load.spritesheet("intruder4","images/snake3.png",71,33),ge.load.spritesheet("intruder5","images/condor2.png",64,68),ge.load.spritesheet("intruder6","images/intruders6.png",48,64),ge.load.image("backgroundMenu","images/menu.jpg"),ge.load.image("boxMenu","images/box-menu4-mini.png"),ge.load.image("boxTopMenu","images/top-menu-mini.png"),ge.load.image("background1","images/background1.png"),ge.load.image("background1_1","images/background1_1.png"),ge.load.image("background2","images/background2_1.png"),ge.load.image("background3","images/background3.png"),ge.load.image("background4","images/background4.jpg"),ge.load.image("background5","images/background5.jpg"),ge.load.image("tile-size-black","images/tile-size-black.png"),ge.load.image("the-end","images/the-end.png"),ge.load.spritesheet("buttonsWindowMenu","images/buttons.png",112,48),ge.load.spritesheet("buttonsIcons","images/icons.png",48,48),ge.load.spritesheet("buttonLevel","images/button-level.png",64,64),ge.load.spritesheet("buttonNavigation","images/navigations.png",112,112),ge.load.image("buttonPause","images/pause.png"),ge.load.spritesheet("lifes-single-bar","images/lifes-single-bar.png",58,16),ge.load.spritesheet("log","images/log.png",16,16),ge.load.spritesheet("stone","images/stone.png",16,16),ge.load.image("yellowFog","images/fog-yellow.png"),ge.load.image("whiteFog","images/fog-white.png"),ge.load.image("ground","images/ground.png"),ge.load.spritesheet("coin","images/nu3.png",16,24),ge.load.spritesheet("Life","images/LifeFull.png",16,31),ge.load.spritesheet("Life2","images/LifeSingle.png",16,24),ge.load.spritesheet("key","images/key.png",16,43),ge.load.image("door","images/door2.png"),ge.load.image("door-horizontal","images/door-horizontal.png"),ge.load.image("lock","images/lock1.png"),ge.load.image("cactus","images/cactus2.png"),ge.load.image("grassLr","images/grass_lr.png"),ge.load.spritesheet("cactus-animate","images/cactus-animate.png",61,94),ge.load.spritesheet("grass-lr-anim","images/grass_anim8.png",34.5,32),ge.load.spritesheet("tree","images/tree-short.png",130,179),ge.load.image("bullet","images/bullet.png"),ge.load.spritesheet("bullets_gun","images/gun-bullets6.png",20,28),ge.load.spritesheet("end_level","images/end_level.png",100,130),ge.load.spritesheet("save_level","images/save-level2.png",100,130),ge.load.spritesheet("fire_up","images/fire_up3.png",48,48),ge.load.spritesheet("fire_down","images/fire_down3.png",24,24),ge.load.spritesheet("fire_left","images/fire_left3.png",24,24),ge.load.spritesheet("fire_right","images/fire_right3.png",24,24),ge.load.image("windmill_1_new","images/windmill_1_5_new.png"),ge.load.image("windmill_2_new","images/windmill_2_5_new.png"),ge.load.image("gun","images/gun-real.png"),ge.load.image("cave","images/cave.png"),ge.load.image("stone-big","images/stone-big.png"),ge.load.spritesheet("stone-big-explosion","images/stone-big-explosion.png",96,96),ge.load.spritesheet("fog-single","images/fog-anim-half.png",800,206),ge.load.image("building1","images/building-barn1.png"),ge.load.image("building2","images/building-home1.png"),ge.load.image("building3","images/building-big-home1.png"),ge.load.image("building4","images/building-home2.png"),ge.load.image("building5","images/building-big-home2.png"),ge.load.image("building6","images/building-blacksmith.png"),ge.load.image("building7","images/building-sheriff.png"),ge.load.image("building8","images/building-saloon.png"),ge.load.image("building9","images/building-store.png"),ge.load.image("b-sheriff","images/b-sheriff.png"),ge.load.image("b-saloon","images/b-saloon.png"),ge.load.image("b-store","images/b-store.png"),ge.load.spritesheet("mine-part-2","images/mine-part2-4.png",175,331),ge.load.image("mine-part-1","images/mine-part1-6.png"),ge.load.spritesheet("water-red","images/water_red6.png",256,32),ge.load.spritesheet("water","images/water_4.png",256,32),ge.load.spritesheet("splash","images/splash7.png",84,38),ge.load.spritesheet("splash-water-red","images/splash-red9.png",84,38),ge.load.spritesheet("fireb","images/fish7.png",16,40),ge.load.spritesheet("fireb2","images/fireb.png",16,16),ge.load.spritesheet("explosion","images/explosion.png",64,64),ge.load.image("invisible","images/invisible.png"),ge.load.image("kladka-short","images/kladka-short.png"),ge.load.audio("footstep","audio/footstep2.mp3"),ge.load.audio("coin","audio/coin.mp3"),ge.load.audio("shoot","audio/shoot2.mp3"),ge.load.audio("bullets","audio/bullets3.mp3"),ge.load.audio("explosion-intruder","audio/explosion-intruder.mp3"),ge.load.audio("explosion","audio/explosion.mp3"),ge.load.audio("break-bones","audio/break-bones.mp3"),ge.load.audio("scream","audio/scream.mp3"),ge.load.audio("scream2","audio/scream2.mp3"),ge.load.audio("scream-intruder","audio/scream-intruder.mp3"),ge.load.audio("splash","audio/splash.mp3"),ge.load.audio("life","audio/life.mp3"),ge.load.audio("condor","audio/condor.mp3"),ge.load.audio("key","audio/key.mp3"),ge.load.audio("break-ground","audio/break.mp3"),ge.load.audio("quake","audio/quake.mp3"),ge.load.audio("door-lift","audio/door-lift.mp3"),ge.load.audio("bg1","audio/bg.mp3"),ge.load.audio("flash","audio/flash.mp3"),ge.load.audio("next-level","audio/next-level.mp3"),ge.load.audio("tic-score","audio/tic.mp3"),ge.load.audio("scale-down","audio/down.mp3"),ge.load.audio("magic","audio/magic.mp3"),ge.load.audio("bingo","audio/bingo.mp3"),ge.load.audio("elevator","audio/elevator.mp3"),ge.scale.maxWidth=800,ge.scale.maxHeight=450,ge.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,ge.scale.windowConstraints.bottom="visual"},re={resetGameCookies:function(e){if("all"===e){u("unlock-levels"),g=1,u("coins-procent-last-memory"),u("id-level-last-memory");for(var i=1;i<=f;i++)u("coins-"+i),u("coins-procent-"+i)}u("bullets"),u("coins"),u("Lifes"),u("main-Lifes")},bgSet:function(e){ge.stage.backgroundColor=e},audio:{footStep:function(e){if(!this.a1){var i=ge.add.audio("footstep");i.play("",!1,e||.2),this.a1=!0,i.onStop.addOnce((function(){this.a1=!1}),this)}},magic:function(e){var i=ge.add.audio("magic");i.play("",!1,e||.2)},bingo:function(e){var i=ge.add.audio("bingo");i.play("",!1,e||.2)},coin:function(e){var i=ge.add.audio("coin");i.play("",!1,e||.2)},ticScore:function(e){var i=ge.add.audio("tic-score");i.play("",!1,e||.2)},shoot:function(e){var i=ge.add.audio("shoot");i.play("",!1,e||.2)},bullets:function(e){var i=ge.add.audio("bullets");i.play("",!1,e||.2)},explosionIntruder:function(){var e=ge.add.audio("explosion-intruder");e.play("",!1,.5)},explosion:function(){var e=ge.add.audio("explosion");e.play("",!1,.5)},breakBones:function(e){var i=ge.add.audio("break-bones");i.play("",!1,e||.2)},scaleDown:function(e){ge.add.audio("scale-down").play("",!1,e||.2)},scream:function(e){var i=ge.add.audio("scream");i.play("",!1,e||.2)},screamIntruder:function(e){ge.add.audio("scream-intruder").play("",!1,e||.2)},flash:function(e){var i=ge.add.audio("flash");i.play("",!1,e||.2)},splash:function(e){if(!this.aSplash){var i=ge.add.audio("splash");i.play("",!1,e||.1),this.aSplash=!0,ge.time.events.add(500,(function(){this.aSplash=!1}),this)}},elevator:function(e){if(!this.aElevator){var i=ge.add.audio("elevator");i.play("",!1,e||.1),this.aElevator=!0,ge.time.events.add(500,(function(){this.aElevator=!1}),this)}},life:function(e){var i=ge.add.audio("life");i.play("",!1,e||.2)},key:function(e){var i=ge.add.audio("key");i.play("",!1,e||.2)},condor:function(e){if(!this.aCcondor){var i=ge.add.audio("condor");i.play("",!1,e||.2),this.aCcondor=!0,i.onStop.addOnce((function(){this.aCcondor=!1}),this)}},breakGround:function(e){var i=ge.add.audio("break-ground");i.play("",!1,e||.2)},quake:function(e){var i=ge.add.audio("quake");i.play("",!1,e||.2)},doorLift:function(e){var i=ge.add.audio("door-lift");i.play("",!1,e||.2)},bg:{play:function(e,i){i&&(d(this.obj)&&this.obj.destroy(),this.obj=ge.add.audio(i),this.obj.play("",!1,e||.2,!0))},stop:function(){d(this.obj)&&this.obj.stop()}},nextLevel:function(e){if(!this.nL){var i=ge.add.audio("next-level");i.play("",!1,e||.2),this.nL=!0,i.onStop.addOnce((function(){this.nL=!1}),this)}}},preloader:{add:function(e,i,n,o){re.bgSet("#000000"),re.preloader.obj=ge.add.group(),re.preloader.obj.enableBody=!0;var t=le?n?"Congratulations!...":"":"Level "+q.activeIdLevel,a=le?n?"The End":"":"Loading...";re.text.show("center",0,-P,.9,t,"bold 52px Arial","#ffffff",!0,"loading1"),re.text.show("center",0,.7*P,.9,a,"bold 28px Arial","#ffffff",!0,"loading2"),re.text.show("center",0,5*P,.9,"Copyright © Gold Rush, once upon a time in the Wild West...","16px Arial","#ffffff",!0,"loadingCopyright1"),re.text.show("center",0,5.75*P,.9,"semDesign","14px Arial","#ffffff",!0,"loadingCopyright2")},hide:function(){d(this.obj)&&this.obj.destroy(),re.text.hide("loading1"),re.text.hide("loading2"),re.text.hide("loadingCopyright1"),re.text.hide("loadingCopyright2")}},windows:{boxTopMenu:{positionBar:function(e){re.windows.boxMenu.obj||"inside-boxMenu"===e?(I=6*P+8,C=7*P):(C=-1*P,I=-1*P+2)},const:{show:function(e){re.windows.boxTopMenu.positionBar(e),le||(re.windows.boxTopMenu.positionBar(),re.image.show(re.windows.boxMenu.obj?18*P+C:33*P+C,(re.windows.boxMenu.obj,1.5*P+I),"Life","Life1",1,1,.8,.8,8),re.image.show(re.windows.boxMenu.obj?22*P+C:37*P+C,(re.windows.boxMenu.obj,1.5*P+I),"coin","coin",1,1,.8,.8,3),re.image.show(re.windows.boxMenu.obj?28.4*P+C:43.4*P+C,(re.windows.boxMenu.obj,1.5*P+I-4),"bullets_gun","bullets_gun",1,1,.75,.75,0),re.image.show(re.windows.boxMenu.obj?32.5*P+C:47.5*P+C,(re.windows.boxMenu.obj,1.5*P+I-2),"key","key",1,1,.7,.5,5))},hide:function(){if(!le)for(var e=["Life1","Life2","coin","bullets_gun","key"],i=0,n=e.length;i<n;i++)re.image.hide(e[i])}},letAlways:{show:function(){re.windows.boxTopMenu.positionBar(),A[q.activeIdLevel].timeLimit&&!q.blockedKeys&&(Z===A[q.activeIdLevel].timeLimit&&re.windows.boxMenu.show("time-over"),$=A[q.activeIdLevel].timeLimit-Z),re.text.show(!1,(re.windows.boxMenu.obj,4*P+C),(re.windows.boxMenu.obj,1.5*P+I),1,"Level "+q.activeIdLevel+" / "+(A[q.activeIdLevel].timeLimit?"Limit: "+$:Z)+"s","700 15px Arial","#ded4b8",!0,"level_text",!0)}},let:{show:function(){re.windows.boxTopMenu.positionBar(),re.text.show(!1,re.windows.boxMenu.obj?19*P+C:34*P+C,(re.windows.boxMenu.obj,1.5*P+I),1,"x "+re.mainElements.player.numberMainLifes,"700 15px Arial","#ded4b8",!0,"number_main_Lifes_text",!0),re.image.show(re.windows.boxMenu.obj?14.7*P+C:29.7*P+C,(re.windows.boxMenu.obj,1.75*P+I),"lifes-single-bar","lifes-single-bar",1,1,.8,.8,3-re.mainElements.player.numberLifes),re.text.show(!1,re.windows.boxMenu.obj?23*P+C:38*P+C,(re.windows.boxMenu.obj,1.5*P+I),1,"x "+re.mainElements.player.numberCoins+" ("+re.mainElements.player.numberCoinsLevelProcent+"%)","700 15px Arial","#ded4b8",!0,"coinstext",!0),re.text.show(!1,re.windows.boxMenu.obj?29.5*P+C:44.5*P+C,(re.windows.boxMenu.obj,1.5*P+I),1,"x "+re.mainElements.player.countBullets,"700 15px Arial","#ded4b8",!0,"bullets_gun_text",!0),re.text.show(!1,re.windows.boxMenu.obj?33.5*P+C:48.5*P+C,(re.windows.boxMenu.obj,1.5*P+I),1,"x "+ae,"700 15px Arial","#ded4b8",!0,"key_text",!0)}}},boxMenu:{obj:!1,bg:function(e){this.obj&&this.obj.destroy(),this.obj=ge.add.tileSprite(2*P,2*P,736,377,"boxMenu"),this.obj.alpha=0,this.obj.fixedToCamera=!0,e?this.obj.alpha=.8:ge.add.tween(this.obj).to({alpha:.8},180,Phaser.Easing.Linear.None,!0)},show:function(e){re.buttons.openBoxMenu.hide(),this.bg(e),re.buttons.end.show(),re.buttons.startFromBeginning.show(),re.buttons.mute.show(b("mute")?10:9),X.main?(re.buttons.navigations.hide(),re.image.hide("boxTopMenu",!0),re.windows.boxTopMenu.const.hide(),re.windows.boxTopMenu.const.show("inside-boxMenu"),ge.time.events.add(300,(function(){ge.paused=!0}),this)):(re.buttons.reset.show(),re.buttons.levels.hide(),re.buttons.play.hide(),re.buttons.quit.hide(),re.buttons.mute.hide()),"game-complete"===e?re.text.show("center",0,0,.6,"Thank you for playing","bold 46px Arial","#ffffff",!0,"game-complite"):"game-over"===e?re.text.show("center",0,0,.6,"Game Over!","bold 46px Arial","#ffffff",!0,"game-complite"):"time-over"===e?re.text.show("center",0,0,.6,"Time Over!","bold 46px Arial","#ffffff",!0,"game-complite"):(re.buttons.closeBoxMenu.show(),re.buttons.resume.show()),re.windows.boxTopMenu.f=!1},hide:function(){var e=ge.add.tween(this.obj).to({alpha:0},200,Phaser.Easing.Linear.None,!0);e.onComplete.add((function(e){e.destroy()}),this),this.obj=!1,re.buttons.end.hide(),re.buttons.startFromBeginning.hide(),re.buttons.reset.hide(),re.buttons.resume.hide(),re.buttons.mute.hide(),re.buttons.closeBoxMenu.hide(),ge.paused=!1,X.main?(le||(re.buttons.navigations.show(),re.image.show((re.windows.boxMenu.obj,0),(re.windows.boxMenu.obj,0),"boxTopMenu","boxTopMenu",.85,1,!1,!1,!1,!0),re.windows.boxTopMenu.const.show()),re.buttons.openBoxMenu.show("play-game")):(re.buttons.openBoxMenu.show(),re.buttons.levels.show(),re.buttons.play.show(),re.buttons.quit.show(),re.buttons.mute.show(b("mute")?10:9)),re.windows.boxTopMenu.f=!1}}},buttons:{openBoxMenu:{show:function(e){d(this.obj)&&this.obj.destroy(),this.obj="play-game"===e?ge.add.button(0,0,"buttonPause",(function(){re.windows.boxMenu.show()}),this,0,0):ge.add.button(P,P,"buttonsWindowMenu",(function(){re.windows.boxMenu.show()}),this,2,2),this.obj.alpha="play-game"===e?.8:.6,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},closeBoxMenu:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(44*P,3*P,"buttonsIcons",(function(){re.windows.boxMenu.hide()}),this,3,2),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},play:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(9*P,P,"buttonsWindowMenu",(function(){me("continuation")}),this),this.obj.alpha=.6,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},quit:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(17*P,1*P,"buttonsWindowMenu",(function(){re.windows.boxMenu.bg(),re.text.show("center",0,-10,.9,"Are you sure you want to quit the game?","bold 26px Arial","#ffffff",!0,"quit-1"),re.buttons.yes.show(16,16,"quit"),re.buttons.no.show(27,16,"quit"),re.buttons.openBoxMenu.hide(),re.buttons.levels.hide(),re.buttons.play.hide(),re.buttons.quit.hide(),re.buttons.mute.hide()}),this,6,6),this.obj.alpha=.6,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},end:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(3*P,3*P,"buttonsWindowMenu",(function(){ge.time.events.removeAll(),re.windows.boxMenu.hide(),be(),ye(),q.name="level1",q.activeIdLevel=1}),this,1,1),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},startFromBeginning:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(11*P,3*P,"buttonsWindowMenu",(function(){ge.time.events.removeAll(),re.windows.boxMenu.hide(),re.mainElements.player.numberMainLifes=G,re.mainElements.player.numberLifes=z,re.mainElements.player.countBullets=W,re.mainElements.player.numberCoins=0,c("coins",0),c("Lifes",z),c("main-Lifes",G),c("bullets",W),ye(),q.activeIdLevel<f?(q.name="level"+q.activeIdLevel,q.activeIdLevel=q.activeIdLevel):(q.name="level1",q.activeIdLevel=1),me()}),this,3,3),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},reset:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(19*P,3*P,"buttonsWindowMenu",(function(){re.windows.boxMenu.hide(),q.name="level1",q.activeIdLevel=1,re.resetGameCookies("all"),ye(),re.buttons.levels.hide(),re.buttons.levels.show()}),this,4,4),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},resume:{show:function(){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(20*P,14*P,"buttonsWindowMenu",(function(){re.windows.boxMenu.hide(),X.main||me("continuation")}),this,X.main?5:0,X.main?5:0),this.obj.scale.x=1.4,this.obj.scale.y=1.4,this.obj.alpha=.6,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},mute:{show:function(e){d(this.obj)&&this.obj.destroy();var i=X.main?3*P:P,n=X.main?7*P:5*P;this.obj=ge.add.button(i,n,"buttonsWindowMenu",(function(){ge.paused&&(ge.paused=!1,ge.time.events.remove(this.t),this.t=ge.time.events.add(100,(function(){ge.paused=!0}),this)),this.obj.destroy(),b("mute")?(re.buttons.mute.show(9),ge.sound.mute=!1,u("mute")):(re.buttons.mute.show(10),ge.sound.mute=!0,c("mute",1))}),this,e,e),this.obj.alpha=X.main?.4:.6,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},yes:{show:function(e,i,n){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(e*P,i*P,"buttonsWindowMenu",(function(){"quit"===n&&(t()?navigator.app.exitApp():location.reload())}),this,7,7),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},no:{show:function(e,i,n){d(this.obj)&&this.obj.destroy(),this.obj=ge.add.button(e*P,i*P,"buttonsWindowMenu",(function(){if("quit"===n){if(re.buttons.no.hide(),re.buttons.yes.hide(),this.obj)ge.add.tween(re.windows.boxMenu.obj).to({alpha:0},200,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this);re.windows.boxMenu.obj=!1,re.text.hide("quit-1"),re.buttons.openBoxMenu.show(),re.buttons.levels.show(),re.buttons.play.show(),re.buttons.quit.show(),re.buttons.mute.show(b("mute")?10:9)}}),this,8,8),this.obj.alpha=.4,this.obj.fixedToCamera=!0},hide:function(){d(this.obj)&&this.obj.destroy()}},navigations:{show:function(){d(this.left)&&this.left.destroy(),this.left=ge.add.button(0,ge.height-7*P,"buttonNavigation",(function(){}),this,0,0),this.left.alpha=.3,this.left.fixedToCamera=!0,this.left.onInputDown.add((function(){k.left.isDown=!0})),this.left.onInputUp.add((function(){k.left.isDown=!1})),d(this.right)&&this.right.destroy(),this.right=ge.add.button(6*P,ge.height-7*P,"buttonNavigation",(function(){}),this,1,1),this.right.alpha=.3,this.right.fixedToCamera=!0,this.right.onInputDown.add((function(){k.right.isDown=!0})),this.right.onInputUp.add((function(){k.right.isDown=!1})),d(this.shot)&&this.shot.destroy(),this.shot=ge.add.button(ge.width-7*P,ge.height-13*P,"buttonNavigation",(function(){}),this,3,3),this.shot.alpha=re.mainElements.player.countBullets?.3:0,this.shot.inputEnabled=!!re.mainElements.player.countBullets,this.shot.fixedToCamera=!0,this.shot.onInputDown.add((function(){T.isDown=!0})),this.shot.onInputUp.add((function(){T.isDown=!1})),d(this.up)&&this.up.destroy(),this.up=ge.add.button(ge.width-7*P,ge.height-7*P,"buttonNavigation",(function(){}),this,2,2),this.up.alpha=.3,this.up.fixedToCamera=!0,this.up.onInputDown.add((function(){k.up.isDown=!0})),this.up.onInputUp.add((function(){k.up.isDown=!1})),d(this.down)&&this.down.destroy(),this.down=ge.add.button(ge.width-13*P,ge.height-7*P,"buttonNavigation",(function(){}),this,4,4),this.down.alpha=.3,this.down.fixedToCamera=!0,this.down.onInputDown.add((function(){k.down.isDown=!0})),this.down.onInputUp.add((function(){k.down.isDown=!1}))},hide:function(){d(this.left)&&d(this.right)&&d(this.up)&&d(this.shot)&&(this.left.destroy(),this.right.destroy(),this.up.destroy(),this.shot.destroy(),this.down.destroy())}},levels:{obj:[],text:[],text2:[],show:function(){var e=0,i=0,n=0,o=!1;for(var t in ge.cache._cacheMap[7])ge.cache._cacheMap[7].hasOwnProperty(t)&&(e++,this.obj.push(e),this.text.push(e),this.text2.push(e),e>9&&(i=45*P,n=5*P),o=!1,e===Object.keys(ge.cache._cacheMap[7]).length&&(o="?"),e<=g||o?(this.obj[e]=ge.add.button(5*P*(e-1)+3*P-i,17*P+n,"buttonLevel",(function(){q.name="level"+this,q.activeIdLevel=this,re.resetGameCookies(),me()}),e,0),this.text2[e]=ge.add.text(0,0,o?"Credits":"("+(b("coins-procent-"+e)?b("coins-procent-"+e):0)+"%)",{font:"12px Arial",fill:"#ffffff",boundsAlignH:"center",boundsAlignV:"middle"}),this.text2[e].setTextBounds(0,0,4*P,7*P),this.obj[e].addChild(this.text2[e])):this.obj[e]=ge.add.button(5*P*(e-1)+3*P-i,17*P+n,"buttonLevel",(function(){}),e,1,1),this.text[e]=ge.add.text(0,0,o||e,{font:"24px Arial",fill:"#ffffff",boundsAlignH:"center",boundsAlignV:"middle"}),this.text[e].setTextBounds(0,0,4*P,4.5*P),this.obj[e].alpha=.8,this.obj[e].addChild(this.text[e]),this.obj[e].fixedToCamera=!0);f=e},hide:function(){for(var e=1,i=this.obj.length;e<i;e++)this.obj[e].destroy();this.obj=[],this.text=[],this.text2=[]}}},text:{obj:[],show:function(e,i,n,o,t,a,l,s,d,r){this.obj[d]&&this.obj[d].destroy(),this.obj.push(d),"center"===e?(this.obj[d]=ge.add.text(i,n,t,{font:a,fill:l,boundsAlignH:"center",boundsAlignV:"middle"}),this.obj[d].setTextBounds(i,n,ge.width,ge.height)):this.obj[d]=ge.add.text(i,n,t,{font:a,fill:l}),this.obj[d].alpha=o,this.obj[d].fixedToCamera=s,r&&this.obj[d].setShadow(1,-1,"rgba(0,0,0,1)",0),"add-point"===e&&(ge.add.tween(this.obj[d]).to({y:n-48},900,Phaser.Easing.Linear.None,!0),ge.time.events.add(600,(function(){ge.add.tween(this.obj[d]).to({alpha:0},300,Phaser.Easing.Linear.None,!0).onComplete.add((function(e){e.destroy()}),this)}),this))},hide:function(e){this.obj[e]&&this.obj[e].destroy()}},image:{obj:[],show:function(e,i,n,o,t,a,l,s,d,r){this.obj[o]&&this.obj[o].destroy(),this.obj.push(o),this.obj[o]="boxTopMenu"===n?ge.add.tileSprite(e,i,ge.scale.maxWidth,48,n):ge.add.image(e,i,n),t&&(this.obj[o].alpha=t),a&&(this.obj[o].fixedToCamera=a),l&&s&&this.obj[o].scale.setTo(l,s),d&&(this.obj[o].frame=d),r&&(this.obj[o].alpha=0,ge.add.tween(this.obj[o]).to({alpha:t||1},200,Phaser.Easing.Linear.None,!0))},hide:function(e,i){if(this.obj[e])if(i){var n=ge.add.tween(this.obj[e]).to({alpha:0},200,Phaser.Easing.Linear.None,!0);n.onComplete.add((function(e){e.destroy()}),this)}else this.obj[e].destroy()}},createCenterObject:function(e,i,n,o,t){var a=ge.cache.getImage(o).width,l=ge.cache.getImage(o).height;return"sprite"===t&&(a=ge.cache._cache.image[o].frameWidth,l=ge.cache._cache.image[o].frameHeight),e.create(i*P+2*P-(a/2+P+P/2),n*P-(l-2*P),o)},createLeftObject:function(e,i,n,o,t){var a=ge.cache.getImage(o).height;return"sprite"==t&&(a=ge.cache._cache.image[o].frameHeight),e.create(i*P,n*P-(a-2*P),o)},checkSpecialBlankBlockElementAndElevatorSound:function(e,i){i&&(0!==i.deltaY?re.audio.elevator(.1):0!==i.deltaX&&re.audio.elevator(.1)),101===e.index&&(e.collideDown=!0,e.collideUp=!0,e.collideLeft=!0,e.collideRight=!0)},jumpCollision:function(e,i){var n=0;ge.time.now>n&&(e.body.velocity.y=-i,n=ge.time.now+i)},mainElements:{player:{detectionHoldOnObject:function(e,i){return this.obj.position.x>e.position.x-ge.width/i&&this.obj.position.x<e.position.x+ge.width/i&&this.obj.position.y>e.position.y-ge.height/i&&this.obj.position.y<e.position.y+ge.height/i},detectionHoldOnTile:function(e,i,n){return this.obj.position.x>e*P-ge.width/n&&this.obj.position.x<e*P+ge.width/n&&this.obj.position.y>i*P-ge.height/n&&this.obj.position.y<i*P+ge.height/n},countLifes:function(){b("Lifes")?re.mainElements.player.numberLifes=parseInt(b("Lifes")):re.mainElements.player.numberLifes=z,b("main-Lifes")?re.mainElements.player.numberMainLifes=parseInt(b("main-Lifes")):re.mainElements.player.numberMainLifes=G},countCoins:function(){b("coins")?re.mainElements.player.numberCoins=parseInt(b("coins")):re.mainElements.player.numberCoins=0,b("coins-procent-"+q.activeIdLevel)>0?re.mainElements.player.numberCoinsLevelProcentLastMemory=b("coins-procent-"+q.activeIdLevel):re.mainElements.player.numberCoinsLevelProcentLastMemory=0,re.mainElements.player.numberCoinsLevel=0,re.mainElements.player.numberCoinsLevelProcent=0,re.mainElements.logs.lengthBonusCoins=0},removeKeepStone:function(){re.mainElements.stoneBigS.keepStone&&(re.mainElements.stoneBigS.keepStone=!1,se=1!==re.mainElements.player.obj.scale.y?300:200,re.mainElements.stoneBigS.obj.forEach((function(e){e.keepStone=!1}),this))},lostLife:function(e,i){re.mainElements.player.removeKeepStone(),e.holdLostLife||(e.holdLostLife=!0,!q.blockedKeys&&re.mainElements.player.numberLifes>0&&(re.mainElements.player.numberLifes-=i||1,re.audio.scream(),e.scale.y>1&&this.scale("restart")),re.mainElements.player.numberLifes<1&&(q.blockedKeys||re.mainElements.player.gameOver||(ge.camera.shake(.02,450,!0,Phaser.Camera.SHAKE_VERTICAL),re.audio.quake(1),q.blockedKeys=!0,re.mainElements.player.numberLifes=0,re.mainElements.player.gun.obj&&(re.mainElements.player.gun.obj.destroy(),re.mainElements.player.gun.obj=!1),re.mainElements.player.obj.animations.play("kill-right"),re.mainElements.player.numberMainLifes--),0===re.mainElements.player.numberMainLifes?(re.mainElements.player.gameOver=!0,ge.time.events.add(1500,(function(){re.windows.boxMenu.show("game-over")}),this)):ge.time.events.add(1200,(function(){re.mainElements.player.numberLifes=z,re.windows.boxTopMenu.f=!1,ge.time.events.add(1e3,(function(){q.blockedKeys=!1,J="idle"}),this)}),this)),ge.time.events.remove(e.timeoutKill),e.timeoutKill=ge.time.events.add(800,(function(){e.holdLostLife=!1,e.alpha=1,ge.time.events.remove(e.fltTime)}),this),e.fltTime=ge.time.events.loop(50,(function(){e.alpha=.4===e.alpha?1:.4}),this)),re.windows.boxTopMenu.f=!1},checkIfWasKilledAndOther:function(e,i){le||(e.touchGround&&(ge.time.events.remove(e.touchGroundTime),e.touchGround=!1),"kladki-poziom"===i&&(e.onGround=!0),e.t1=!0,e.onGround||(re.audio.footStep(),e.onGround=!0),(k.left.isDown||k.right.isDown)&&re.audio.footStep(),!ne||re.mainElements.player.obj.body.blocked.left||re.mainElements.player.obj.body.blocked.right||(re.mainElements.player.obj.body.y-oe>250&&(ge.camera.shake(.02,250,!0,Phaser.Camera.SHAKE_VERTICAL),re.audio.quake(1)),"water"!==i&&re.mainElements.player.obj.body.y-oe>400&&re.mainElements.player.lostLife(e,3),ne=!1))},gun:{obj:!1,startGun:!1,bullets:{obj:!1,restartBullets:function(){!0===this.obj&&(this.obj.z=0,this.obj.destroy(!0)),this.obj=ge.add.group(),this.obj.enableBody=!0,this.obj.createMultiple(9,"bullet"),this.obj.setAll("anchor.x",.5),this.obj.setAll("anchor.y",1)}},visualGun:function(e){this.obj&&(1!==e.obj.scale.y?(this.obj.scale.y=1.2,this.obj.tint=16776960):(this.obj.scale.y=1,this.obj.tint=16777215),e.obj.frame>=6&&e.obj.frame<=11?(this.obj.scale.x=-1,this.obj.reset(e.obj.x+37,e.obj.y+33)):k.left.isDown?(this.obj.scale.x=-1,this.obj.reset(e.obj.x+33,e.obj.y+33)):e.obj.frame>=0&&e.obj.frame<=5?(this.obj.scale.x=1,this.obj.reset(e.obj.x+11,e.obj.y+33)):k.right.isDown&&(this.obj.scale.x=1,this.obj.reset(e.obj.x+15,e.obj.y+33)))},shot:function(e){T.isDown&&re.mainElements.player.numberLifes&&!q.blockedKeys&&e.countBullets>0&&ge.time.now>e.bulletTime&&(e.bullet=e.gun.bullets.obj.getFirstExists(!1),e.bullet?(e.countBulletsF=!0,e.countBullets--,re.windows.boxTopMenu.f=!1,re.audio.shoot(),ge.time.events.remove(e.gun.startGun),e.gun.obj||(e.gun.obj=ge.add.image(e.obj.x,e.obj.y,"gun")),e.bullet.body.gravity.y=-700,e.gun.startGun=ge.time.events.add(1e3,(function(){e.gun.obj&&(e.gun.obj.destroy(),e.gun.obj=!1,ge.time.events.remove(e.gun.startGun))}),this),e.obj.frame>=6&&e.obj.frame<=11||k.left.isDown?(e.bullet.reset(e.obj.x+10,e.obj.y+42),e.bullet.body.velocity.x=-1400,e.bullet.direction="left"):(e.obj.frame>=0&&e.obj.frame<=5||k.right.isDown)&&(e.bullet.reset(e.obj.x+30,e.obj.y+42),e.bullet.body.velocity.x=1400,e.bullet.direction="right"),e.bulletTime=ge.time.now+200):(e.bullet=0,e.gun.bullets.restartBullets()))}},bullet:!1,bulletTime:0,countBulletsF:!1,countBullets:6,jumpTimer:0,obj:!1,add:function(e,i){0==this.obj&&(this.obj=ge.add.sprite(e*P,i*P-4*P,"dude"),ge.physics.enable(this.obj,Phaser.Physics.ARCADE),this.obj.body.bounce.y=.3,this.obj.body.collideWorldBounds=!0,this.obj.animations.add("idle-right",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),this.obj.animations.add("idle-right",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),this.obj.animations.add("idle-left",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11],6,!0),this.obj.animations.add("end-level",[38,37,36,37,38],10,!0),this.obj.animations.add("jump-right",[25],20,!0),this.obj.animations.add("jump-left",[26],20,!0),this.obj.animations.add("kill-right",[28,29,30,31,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32],16,!1).onComplete.add((function(){re.mainElements.player.generateAgain=!0}),this),this.obj.animations.add("left",[18,19,20,21,22,23],20,!0),this.obj.animations.add("right",[12,13,14,15,16,17],20,!0),ge.camera.follow(this.obj,Phaser.Camera.FOLLOW_LOCKON,.1,.1),this.gun.bullets.restartBullets(),b("bullets")?this.countBullets=parseInt(b("bullets")):this.countBullets=W,this.gun.obj=!1,ee=e*P,ie=i*P)},velocityNormal:R,velocityWater:Y,velocityStone:K,scale:function(e){"increase"===e?(this.obj.scale.setTo(1,_),se=300,this.obj.tint=16776960):("restart"===e&&re.audio.scaleDown(),se=200,this.obj.scale.setTo(1,1),this.obj.tint=16777215);var i=1!==re.mainElements.player.obj.scale.y;this.velocityNormal=i?D:R,this.velocityWater=i?F:Y,this.velocityStone=i?N:K}},intruders:{obj:!0,id:0,add:function(e,i,n){var o=this.obj.create(e*P,i*P-2*P,"intruder"+n);o.scale.setTo(0,0),6===n?ge.add.tween(o.scale).to({x:1.18,y:1.23},400,Phaser.Easing.Linear.None,!0):ge.add.tween(o.scale).to({x:1,y:1},400,Phaser.Easing.Linear.None,!0),o.type=n,o.wspStartX=e,o.wspStartY=i,ge.physics.enable(o,Phaser.Physics.ARCADE),o.body.bounce.y=.4,o.body.collideWorldBounds=!0,o.randomSpeed=m([90,110,130]),4===n?(o.animations.add("left",[14,15,16,17,18,19,20,21,22,23,24,25,26,27],o.randomSpeed/8,!0),o.animations.add("right",[0,1,2,3,4,5,6,7,8,9,10,11,12,13],o.randomSpeed/8,!0),o.animations.add("idle-right",[6],6,!0),o.animations.add("idle-left",[20],6,!0),o.animations.add("kill",[28,29,30,31,32,33,34,35],15,!1),o.animations.add("turn-left",[40,37],5,!1),o.animations.add("turn-right",[41,37],5,!1)):5===n?(o.animations.add("left",[14,15,16,17,18,21,22,23,24,25],o.randomSpeed/8,!0),o.animations.add("right",[0,1,2,3,4,7,8,9,10,11],o.randomSpeed/8,!0),o.animations.add("idle-right",[6],6,!0),o.animations.add("idle-left",[20],6,!0),o.animations.add("kill",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1),o.animations.add("turn-left",[40,37],5,!1),o.animations.add("turn-right",[41,37],5,!1)):(o.animations.add("left",[18,19,20,21,22,23],o.randomSpeed/8,!0),o.animations.add("right",[12,13,14,15,16,17],o.randomSpeed/8,!0),o.animations.add("idle-right",[0,1,2,3,4,5,0,1,2,3,4,5,0,1,33,3,4,5],6,!0),o.animations.add("idle-left",[6,7,8,9,10,11,6,7,8,9,10,11,6,7,34,9,10,11],6,!0),o.animations.add("kill",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1)),o.randomMove=parseInt(2*Math.random())?"intruzRight":"intruzLeft"},jump:function(e,i){var n=0;e.body.onFloor()&&ge.time.now>n&&(e.body.velocity.y=-i,n=ge.time.now+i,5===e.type&&(e.jumpToFly=!0,ge.time.events.add(300,(function(){e.jumpToFly=!1}),this)))},collisionIntruz:function(e,i){"intruzRight"===e.randomMove||"intruzLeft"===e.randomMove?e.saveRandom=e.randomMove:e.saveRandom="intruzRight";var n=ge.time.events.loop(1e3/60,(function(){l(Math.ceil(ge.time.now/100))&&(e.body.velocity.y=-30),"total-kill"!==i&&(4===e.type&&("intruzRight"==e.randomMove?e.frame=38:"intruzLeft"==e.randomMove&&(e.frame=39)),"intruzRight"!=e.randomMove&&"intruzLeft"!=e.randomMove||(e.randomMove="intruzStop",re.mainElements.player.obj.body.velocity.y=-H))}),this);"total-kill"===i?(re.audio.breakBones(.5),re.audio.explosionIntruder(),4===e.type?(e.animations.add("left",[28,29,30,31,32,33,34,35],15,!1),e.animations.add("right",[28,29,30,31,32,33,34,35],15,!1)):5===e.type?(e.animations.add("left",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1),e.animations.add("right",[28,29,30,31,32,39,40,41,42,43,44,45,46,47,47,47,47],15,!1)):(e.animations.add("left",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1),e.animations.add("right",[28,29,30,31,32,39,40,41,42,43,44,45,46,47],20,!1)),e.randomSpeed=0,ge.time.events.add(500,(function(){e.killed=!1,ge.time.events.remove(n),e.randomMove="intruzDelete"}),this)):ge.time.events.add(100,(function(){ge.time.events.remove(n),e.randomMove=e.saveRandom}),this),re.mainElements.player.obj.body.overlapY=0},collisionBack:function(e){e.checkPosition||(e.checkPosition=e.body.position.x,ge.time.events.add(600,(function(){Math.abs(e.checkPosition-e.body.position.x)<2&&("intruzRight"===e.randomMove?e.randomMove="intruzLeft":e.randomMove="intruzRight"),e.checkPosition=!1}),this))}},coins:{add:function(e,i){var n=this.obj.create(e*P,i*P,"coin");n.animations.add("run",[0,1,2,3,4,5,6,7,8,8,7,6,5,4,3,2,1,0]),n.animations.play("run",18,!0),n.body.allowGravity=!1}},invisibleLogs:{add:function(e,i){var n=this.obj.create(e*P,i*P,"log");n.frame=11,ge.physics.enable(n,Phaser.Physics.ARCADE),n.scale.setTo(3,1),n.body.allowGravity=!1,n.body.collideWorldBounds=!0,n.body.immovable=!0}},logs:{lengthBonusCoins:0,add:function(e,i,n,o,t){var a=this.obj.create(e*P,i*P,o);if(a.frame=0,ge.physics.enable(a,Phaser.Physics.ARCADE),a.body.allowGravity=!1,a.body.collideWorldBounds=!0,a.body.immovable=!0,n&&re.audio.bingo(),"coin"===n)a.coin=!0;else if("surprise"===n){if("log"===o)switch(r(1,4)){case 1:a.surprise=1;break;case 2:a.surprise=2;break;case 3:a.surprise=3;break;case 4:a.surprise=5}else if("stone"===o){switch(r(1,2)){case 1:a.surprise=1;break;case 2:a.surprise=2}}}},destruction:function(e){if(!e.onlynOne){var i=e.x/P,n=e.y/P-3;e.body.velocity.y=-330,"left"===J?e.body.velocity.x=-130:"right"===J&&(e.body.velocity.x=130),re.audio.breakGround(),e.body.checkCollision.up=!1,e.body.checkCollision.down=!1,e.body.checkCollision.left=!1,e.body.checkCollision.right=!1,ge.time.events.add(50,(function(){e.body.allowGravity=!0}),this),e.animations.add("run"),ge.time.events.add(300,(function(){e.animations.play("run",20,!1)}),this),e.coin?ge.time.events.add(200,(function(){re.mainElements.coins.add(i,n)}),this):e.surprise&&ge.time.events.add(200,(function(){switch(e.surprise){case 1:re.mainElements.bulletsGuns.add(i,n);break;case 2:re.mainElements.LifeSingleS.add(i,n);break;case 3:re.mainElements.intruders.add(i,n,3);break;case 4:re.mainElements.coins.add(i,n);break;case 5:re.mainElements.intruders.add(i,n,5)}}),this),ge.time.events.add(900,(function(){e.kill()}),this),e.onlynOne=!0}}},Lifes:{add:function(e,i){var n=this.obj.create(e*P,i*P,"Life");n.animations.add("run",[2,3,4,5,6,7,8,8,7,6,5,4,3,2,1,0,0,1]),n.animations.play("run",18,!0),n.body.allowGravity=!1}},LifeSingleS:{add:function(e,i){var n=this.obj.create(e*P,i*P,"Life2");n.animations.add("run",[4,5,6,7,8,8,7,6,5,4,3,2,1,0,0,1,2,3]),n.animations.play("run",18,!0),n.body.allowGravity=!1}},bulletsGuns:{add:function(e,i){var n=this.obj.create(e*P-5,i*P-5,"bullets_gun");n.animations.add("run",[8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6,7,8]),n.animations.play("run",18,!0),n.body.allowGravity=!1}},keys:{add:function(e,i){var n=this.obj.create(e*P,i*P,"key");n.animations.add("run",[7,8,8,7,6,5,4,3,2,1,0,0,1,2,3,4,5,6]),n.animations.play("run",18,!0),n.body.allowGravity=!1}},locks:{add:function(e,i,n){var o=this.obj.create(e*P+(n?P:0),i*P,"lock");n&&(o.scale.x*=-1),o.body.allowGravity=!1}},doors:{add:function(e,i,n){var o=re.createCenterObject(this.obj,e,i,"door");ge.physics.enable(o,Phaser.Physics.ARCADE),o.body.allowGravity=!1,o.body.collideWorldBounds=!0,o.body.immovable=!0,n&&(o.zero=!0,o.body.checkCollision.none=!0,o.scale.setTo(0,0))}},doorsHorizontal:{add:function(e,i,n){var o=re.createCenterObject(this.obj,e,i,"door-horizontal");ge.physics.enable(o,Phaser.Physics.ARCADE),o.body.allowGravity=!1,o.body.collideWorldBounds=!0,o.body.immovable=!0,n&&(o.zero=!0,o.body.checkCollision.none=!0,o.scale.setTo(0,0))}},openDoor:function(e){var i=0;re.mainElements.doorsHorizontal.obj.forEach((function(e){e.index=i,i++}),this);var n=0;re.mainElements.doors.obj.forEach((function(e){e.index=n,n++}),this);var o=[];re.mainElements.doors.obj.forEach((function(i){o.push(ge.physics.arcade.distanceBetween(e,i))}),this);var t=Math.min.apply(null,o),a=[];re.mainElements.doorsHorizontal.obj.forEach((function(i){a.push(ge.physics.arcade.distanceBetween(e,i))}),this);var l=Math.min.apply(null,a);re.mainElements.doors.obj.forEach((function(i){if(d(i)&&!i.deactive&&t===ge.physics.arcade.distanceBetween(e,i)&&d(i)&&!i.deactive&&!i.zero){i.deactive=!0,i.body.velocity.y=-50,re.audio.doorLift();var n=Math.ceil(i.y/P),o=ge.time.events.loop(100,(function(){Math.ceil(i.y/P)<=n-10&&(i.body.velocity.y=0,ge.time.events.remove(o))}),this)}}),this),re.mainElements.doorsHorizontal.obj.forEach((function(i){l===ge.physics.arcade.distanceBetween(e,i)&&d(i)&&!i.deactive&&(i.zero||(i.deactive=!0,re.mainElements.explosion.add(i.x/P,i.y/P),i.kill()))}),this)},cacti:{add:function(e,i){re.createCenterObject(this.obj,e,i,"cactus").body.allowGravity=!1}},grassLeft:{add:function(e,i){re.createLeftObject(this.obj,e,i,"grassLr").body.allowGravity=!1}},grassAnim:{add:function(e,i,n){var o=re.createCenterObject(this.obj,e,i,"grass-lr-anim","sprite");o.animations.add("run",[0,1,2,3,4,5,5,4,3,2,1,0]),o.animations.play("run",8,!0),"right"===n&&(o.scale.x*=-1,o.anchor.setTo(1,0)),o.body.allowGravity=!1}},trees:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i,"tree","sprite");n.animations.add("run"),n.animations.play("run",8,!0),n.body.allowGravity=!1}},cactusAnimateS:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i,"cactus-animate","sprite");n.animations.add("run",[0,1,2,3,4,3,2,1,0]),n.animations.play("run",10,!0),n.body.allowGravity=!1,n.body.width=39,n.body.height=70,n.body.offset.y=11,n.body.offset.x=11}},grassRight:{add:function(e,i){var n=re.createLeftObject(this.obj,e,i,"grassLr");n.body.allowGravity=!1,n.scale.x*=-1}},explosion:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i-1,"explosion","sprite");n.animations.add("run").onComplete.add((function(e){e.kill()}),this),n.animations.play("run",16,!1),n.body.allowGravity=!1,re.audio.explosion(.5)}},stoneBigExplosion:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i+1,"stone-big-explosion","sprite");n.animations.add("run").onComplete.add((function(e){e.kill()}),this),n.animations.play("run",40,!1),n.body.allowGravity=!1}},stoneBigS:{add:function(e,i){var n=re.createLeftObject(this.obj,e,i,"stone-big");ge.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.allowGravity=!0,n.body.height=40,n.body.width=40,n.anchor.setTo(.5,.5),n.angle=r(0,180)}},caves:{add:function(e,i){this.obj.create(e*P+2*P,i*P-240,"cave").body.allowGravity=!1}},fogSingleS:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i,"fog-single","sprite");n.animations.add("run"),n.animations.play("run",9,!0),n.alpha=.8,n.body.allowGravity=!1}},buildings:{add:function(e,i,n){re.createCenterObject(this.obj,e,i,n).body.allowGravity=!1}},blackboards:{add:function(e,i,n){re.createCenterObject(this.obj,e,i,n).body.allowGravity=!1}},mines:{add:function(e,i){var n=re.createCenterObject(this.obj,e+6.5,i,"mine-part-2","sprite");n.animations.add("run",[0,1,2,3,4,5,4,3,2,1,0,6,7,8,9,10,9,8,7,6]),n.animations.play("run",12,!0),n.body.allowGravity=!1,re.createCenterObject(this.obj,e-.2,i,"mine-part-1").body.allowGravity=!1}},waters:{add:function(e,i,n){var o=re.createLeftObject(this.obj,e,i,n||"water","sprite");o.animations.add("run"),o.animations.play("run",16,!0),o.body.allowGravity=!1,o.alpha=.7,"water-red"===n&&(o.type="water-red")}},waterStaticS:{add:function(e,i,n,o){var t;(t="center"===o?re.createCenterObject(this.obj,e,i,n||"water","sprite"):re.createLeftObject(this.obj,e,i,n||"water","sprite")).body.allowGravity=!1,t.alpha=.7,"water-red"===n&&(t.type="water-red")}},firebs:{add:function(e,i,n,o){var t=re.createLeftObject(this.obj,e,i,o?"fireb2":"fireb","sprite");o?t.typeFire=!0:(t.animations.add("run1",[0,1,2,1]),t.animations.add("run2",[3,4,5,4])),t.body.allowGravity=!1,t.alpha=0,t.randomStart=n}},splashs:{add:function(e,i,n,o){var t=re.createCenterObject(this.obj,e,i,n||"splash","sprite");t.animations.add("run").onComplete.add((function(e){e.kill()}),this),t.animations.play("run",30,!1),t.body.allowGravity=!1,t.alpha=.6,"blood"===o?(t.position.y=t.position.y-2*P,t.position.x=t.position.x+P,t.scale.setTo(.8,.8),t.alpha=.9):re.audio.splash()}},endLevelS:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i,"end_level","sprite");n.animations.add("run"),n.animations.play("run",17,!0),n.body.allowGravity=!1}},saveLevelS:{add:function(e,i,n){var o,t,a=re.createCenterObject(this.obj,e,i,"save_level","sprite");"<-"===n?(o=[26,25,24,23,22,22,23,24,25,26,26,21,20,19,18,18,19,20,21,26],t=[35,34,33,32,31,31,32,33,34,35,35,30,29,28,27,27,28,29,30,35]):(o=[0,1,2,3,4,4,3,2,1,0,0,5,6,7,8,8,7,6,5,0],t=[9,10,11,12,13,13,12,11,10,9,9,14,15,16,17,17,16,15,14,9]),a.animations.add("run1",o),a.animations.add("run2",t),a.animations.play("run1",17,!0),a.body.allowGravity=!1}},fire:{fireAnimation:function(e,i,n,o){var t=e.obj.create(i,n,o);t.animations.add("run"),t.animations.play("run",r(16,20),!0),t.alpha=.8,t.body.allowGravity=!1},fireUpS:{add:function(e,i){re.mainElements.fire.fireAnimation(this,e*P-4,i*P-8,"fire_up")}},fireDownS:{add:function(e,i){re.mainElements.fire.fireAnimation(this,e*P-4,i*P,"fire_down")}},fireLeftS:{add:function(e,i){re.mainElements.fire.fireAnimation(this,e*P-8,i*P-4,"fire_left")}},fireRightS:{add:function(e,i){re.mainElements.fire.fireAnimation(this,e*P,i*P-4,"fire_right")}}},windmills:{add:function(e,i){var n=re.createCenterObject(this.obj,e,i,"windmill","sprite");n.animations.add("run"),n.animations.play("run",20,!0),n.body.allowGravity=!1}},windmillNewS:{add:function(e,i){re.createCenterObject(this.obj2,e,i,"windmill_2_new").body.allowGravity=!1;var n=this.obj1.create(e*P+9,i*P-240,"windmill_1_new");n.anchor.setTo(.5,.5),n.body.allowGravity=!1}},kladki:{kladkaPlayerBounceReset:!0,poziom:{add:function(e,i){var n=this.obj.create(e*P,i*P,"kladka-short");ge.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.allowGravity=!1,n.body.immovable=!0}},run:{startCollision:function(e,i){e.lock||(e.back?"pionTopBack"===i||"pionTop"===i?e.body.velocity.y=-150:"pionBottomBack"!==i&&"pionBottom"!==i||(e.body.velocity.y=150):"pionTopBack"===i||"pionTop"===i?e.body.velocity.y=150:"pionBottomBack"!==i&&"pionBottom"!==i||(e.body.velocity.y=-150)),e.isUp=!0,re.mainElements.player.obj.body.bounce.y=0,ge.time.events.add(300,(function(){e.isUp=!1}),this)},endCollision:function(e,i){e.lock=!0,ge.time.events.remove(e.resetart1),e.resetart1=ge.time.events.add(2500,(function(){"pionTopBack"===i?e.back||(e.body.velocity.y=-150):"pionBottomBack"===i&&(e.back||(e.body.velocity.y=150)),e.back=!e.back,e.lock=!1}),this)}},pionTopBack:{add:function(e,i){var n=this.obj.create(e*P,i*P,"kladka-short");ge.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.allowGravity=!1,n.body.immovable=!0,n.body.orginalY=i}},pionBottomBack:{add:function(e,i){var n=this.obj.create(e*P,i*P,"kladka-short");ge.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.allowGravity=!1,n.body.immovable=!0,n.body.orginalY=i}},pionTop:{add:function(e,i){var n=this.obj.create(e*P,i*P,"kladka-short");ge.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.allowGravity=!1,n.body.immovable=!0,n.body.orginalY=i}},pionBottom:{add:function(e,i){var n=this.obj.create(e*P,i*P,"kladka-short");ge.physics.enable(n,Phaser.Physics.ARCADE),n.body.collideWorldBounds=!0,n.body.allowGravity=!1,n.body.immovable=!0,n.body.orginalY=i}}}},intruzCollisonBack:function(e){var i=0;e.body.onFloor()&&ge.time.now>i&&(e.body.velocity.y=-350,i=ge.time.now+350),0!==i&&("intruzLeft"==e.randomMove?e.randomMove="intruzRight":"intruzRight"==e.randomMove&&(e.randomMove="intruzLeft"))},intruzCollisonNoBack:function(e){var i=0;e.body.onFloor()&&ge.time.now>i&&(e.body.velocity.y=-350,i=ge.time.now+350)},addPoint:function(e,i,n,o){re.text.show("add-point",e,i,1,o,"700 15px Arial","#ded4b8",!1,n,!0)}},me=function(e,i,n){q.readyLoad=!1,q.blockedKeys=!1,"continuation"===e&&(q.name="level"+g,q.activeIdLevel=parseInt(g)),ge.physics.startSystem(Phaser.Physics.ARCADE),le=!1,Object.keys(ge.cache._cacheMap[7]).length===q.activeIdLevel&&(le=!0),re.preloader.add(13,14,i,n),M=ge.time.create(!1),Z=0,M.loop(1e3,(function(){q.blockedKeys||Z++}),p),M.start(),ge.time.advancedTiming=!0,ge.time.desiredFps=window.innerWidth<800?40:50,re.mainElements.player.removeKeepStone(),U=[],ae=0,re.buttons.levels.hide(),re.text.hide("logoText"),v.destroy(),re.buttons.openBoxMenu.hide(),re.mainElements.player.countLifes(),re.mainElements.player.countCoins();var o=300;le&&(o=i?2e3:0),ge.time.events.add(o,(function(){if((h=ge.add.tilemap(q.name)).addTilesetImage("tiles-1"),q.blockedKeys=!1,h.setCollisionByExclusion([102,155,205,206,207,201,202,203,301,302,303,304,305,306,401,402,403,404,405,406,407,416,417,451,452,453,454,455,456,457,459,552,651,652,653,654,655,656,657,658,659,660,661,662,701,702,703,704,705,706,707,708,751,752,753,754,755,756,757,758,801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,851,852,853,854,855,856,901,902,903,904,905,906,209,210,211,212,259,260,261,262,309,310,311,312,1013,1014,1015,1668,1619,1601,1651,1712,1762,1812,1813,1863,1915,1957,1965,2016,2067,2018,2169,2220,2221,2271,2322,2323,2373,2374,2375,2376]),A[q.activeIdLevel].backgroundColor?q.backgroundColor=A[q.activeIdLevel].backgroundColor:q.backgroundColor="#4488AA",re.bgSet(q.backgroundColor),A[q.activeIdLevel].background){var e=!1;Object.keys(ge.cache._cacheMap[7]).length===q.activeIdLevel&&(e=!0),q.backgroundLevel=A[q.activeIdLevel].background,(L=A[q.activeIdLevel].backgroundRepeatX?ge.add.tileSprite(0,e?0:ge.height-ge.cache.getImage(q.backgroundLevel).height,2*h.widthInPixels,ge.cache.getImage(q.backgroundLevel).height,q.backgroundLevel):ge.add.sprite(0,e?0:ge.height-ge.cache.getImage(q.backgroundLevel).height,q.backgroundLevel)).fixedToCamera=!e,A[q.activeIdLevel].backgroundSecond&&((S=ge.add.sprite(0,ge.height-ge.cache.getImage(A[q.activeIdLevel].backgroundSecond).height,A[q.activeIdLevel].backgroundSecond)).width=ge.cache.getImage(A[q.activeIdLevel].backgroundSecond).width,S.height=ge.cache.getImage(A[q.activeIdLevel].backgroundSecond).height,S.fixedToCamera=!0),A[q.activeIdLevel].parallax?q.backgroundParallax=!0:q.backgroundParallax=!1}else q.backgroundLevel="none";if(A[q.activeIdLevel].fog){var i=4*P,n=25/(P/10),o=A[q.activeIdLevel].fogPositionY?A[q.activeIdLevel].fogPositionY:0;B=ge.add.tileSprite(-h.width*P,(h.height-n)*P-i-o,2*h.width*P,n*P,A[q.activeIdLevel].fog)}if(A[q.activeIdLevel].positionGround){var t=6*P;Number.isInteger(A[q.activeIdLevel].positionGround)&&(t=A[q.activeIdLevel].positionGround),ge.add.tileSprite(-h.width*P,h.height*P-t-1,2*h.width*P,h.height*P,"ground")}ge.physics.arcade.gravity.y=750,k=ge.input.keyboard.createCursorKeys(),w=ge.input.keyboard.addKey(Phaser.Keyboard.UP),T=ge.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),(E=h.createLayer("levels-deep")).resizeWorld(),re.mainElements.caves.obj=ge.add.group(),re.mainElements.caves.obj.enableBody=!0,re.mainElements.buildings.obj=ge.add.group(),re.mainElements.buildings.obj.enableBody=!0,re.mainElements.blackboards.obj=ge.add.group(),re.mainElements.blackboards.obj.enableBody=!0,re.mainElements.mines.obj=ge.add.group(),re.mainElements.mines.obj.enableBody=!0,re.mainElements.cactusAnimateS.obj=ge.add.group(),re.mainElements.cactusAnimateS.obj.enableBody=!0,re.mainElements.grassLeft.obj=ge.add.group(),re.mainElements.grassLeft.obj.enableBody=!0,re.mainElements.grassRight.obj=ge.add.group(),re.mainElements.grassRight.obj.enableBody=!0,re.mainElements.grassAnim.obj=ge.add.group(),re.mainElements.grassAnim.obj.enableBody=!0,re.mainElements.trees.obj=ge.add.group(),re.mainElements.trees.obj.enableBody=!0,re.mainElements.keys.obj=ge.add.group(),re.mainElements.keys.obj.enableBody=!0,re.mainElements.locks.obj=ge.add.group(),re.mainElements.locks.obj.enableBody=!0,re.mainElements.doors.obj=ge.add.group(),re.mainElements.doors.obj.enableBody=!0,re.mainElements.doorsHorizontal.obj=ge.add.group(),re.mainElements.doorsHorizontal.obj.enableBody=!0,re.mainElements.fire.fireUpS.obj=ge.add.group(),re.mainElements.fire.fireUpS.obj.enableBody=!0,re.mainElements.fire.fireDownS.obj=ge.add.group(),re.mainElements.fire.fireDownS.obj.enableBody=!0,re.mainElements.fire.fireLeftS.obj=ge.add.group(),re.mainElements.fire.fireLeftS.obj.enableBody=!0,re.mainElements.fire.fireRightS.obj=ge.add.group(),re.mainElements.fire.fireRightS.obj.enableBody=!0,re.mainElements.windmills.obj=ge.add.group(),re.mainElements.windmills.obj.enableBody=!0,re.mainElements.windmillNewS.obj2=ge.add.group(),re.mainElements.windmillNewS.obj2.enableBody=!0,re.mainElements.windmillNewS.obj1=ge.add.group(),re.mainElements.windmillNewS.obj1.enableBody=!0,re.mainElements.bulletsGuns.obj=ge.add.group(),re.mainElements.bulletsGuns.obj.enableBody=!0,re.mainElements.player.obj=!1,(x=h.createLayer("levels-objects")).resizeWorld(),re.mainElements.stoneBigS.obj=ge.add.group(),re.mainElements.stoneBigS.obj.enableBody=!0,(j=h.createLayer("levels-main")).resizeWorld(),re.mainElements.explosion.obj=ge.add.group(),re.mainElements.explosion.obj.enableBody=!0,re.mainElements.stoneBigExplosion.obj=ge.add.group(),re.mainElements.stoneBigExplosion.obj.enableBody=!0,h.objects["just-objects"]&&h.objects["just-objects"].forEach((function(e){461===e.gid&&re.mainElements.grassAnim.add(e.x/P,e.y/P),462===e.gid&&re.mainElements.grassAnim.add(e.x/P,e.y/P,"right"),13===e.gid&&re.mainElements.stoneBigS.add(e.x/P,e.y/P),111===e.gid&&re.mainElements.fire.fireUpS.add(e.x/P,e.y/P),110===e.gid&&re.mainElements.fire.fireDownS.add(e.x/P,e.y/P),109===e.gid&&re.mainElements.fire.fireLeftS.add(e.x/P,e.y/P),112===e.gid&&re.mainElements.fire.fireRightS.add(e.x/P,e.y/P)}));for(var a=0;a<h.width;a++)for(var l=0;l<h.height;l++)51==h.getTile(a,l,j,!0).index&&(h.removeTile(a,l,j),h.putTile(101,a,l,j)),1==h.getTile(a,l,x,!0).index&&(re.mainElements.caves.add(a,l),h.removeTile(a,l,x)),522==h.getTile(a,l,x,!0).index&&(re.mainElements.trees.add(a,l),h.removeTile(a,l,x)),52==h.getTile(a,l,x,!0).index&&(re.mainElements.blackboards.add(a,l,"b-sheriff"),h.removeTile(a,l,x)),53==h.getTile(a,l,x,!0).index&&(re.mainElements.blackboards.add(a,l,"b-saloon"),h.removeTile(a,l,x)),54==h.getTile(a,l,x,!0).index&&(re.mainElements.blackboards.add(a,l,"b-store"),h.removeTile(a,l,x)),2==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building1"),h.removeTile(a,l,x)),4==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building2"),h.removeTile(a,l,x)),7==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building3"),h.removeTile(a,l,x)),8==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building4"),h.removeTile(a,l,x)),5==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building5"),h.removeTile(a,l,x)),9==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building6"),h.removeTile(a,l,x)),10==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building7"),h.removeTile(a,l,x)),11==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building8"),h.removeTile(a,l,x)),12==h.getTile(a,l,x,!0).index&&(re.mainElements.buildings.add(a,l,"building9"),h.removeTile(a,l,x)),6==h.getTile(a,l,x,!0).index&&(re.mainElements.mines.add(a,l),h.removeTile(a,l,x)),504==h.getTile(a,l,x,!0).index&&(re.mainElements.cactusAnimateS.add(a,l),h.removeTile(a,l,x)),511==h.getTile(a,l,x,!0).index&&(re.mainElements.grassLeft.add(a,l),h.removeTile(a,l,x)),512==h.getTile(a,l,x,!0).index&&(re.mainElements.grassRight.add(a,l),h.removeTile(a,l,x)),461==h.getTile(a,l,x,!0).index&&(re.mainElements.grassAnim.add(a,l),h.removeTile(a,l,x)),462==h.getTile(a,l,x,!0).index&&(re.mainElements.grassAnim.add(a,l,"right"),h.removeTile(a,l,x)),515==h.getTile(a,l,x,!0).index&&(re.mainElements.keys.add(a,l),h.removeTile(a,l,x)),516==h.getTile(a,l,x,!0).index&&(re.mainElements.doors.add(a,l,466===h.getTile(a+1,l,x,!0).index),h.removeTile(a,l,x)),466==h.getTile(a,l,x,!0).index&&(re.mainElements.doorsHorizontal.add(a,l,516===h.getTile(a+1,l,x,!0).index),h.removeTile(a,l,x)),517==h.getTile(a,l,x,!0).index&&(re.mainElements.locks.add(a,l),h.removeTile(a,l,x)),467==h.getTile(a,l,x,!0).index&&(re.mainElements.locks.add(a,l,!0),h.removeTile(a,l,x)),111==h.getTile(a,l,x,!0).index&&(re.mainElements.fire.fireUpS.add(a,l),h.removeTile(a,l,x)),110==h.getTile(a,l,x,!0).index&&(re.mainElements.fire.fireDownS.add(a,l),h.removeTile(a,l,x)),109==h.getTile(a,l,x,!0).index&&(re.mainElements.fire.fireLeftS.add(a,l),h.removeTile(a,l,x)),112==h.getTile(a,l,x,!0).index&&(re.mainElements.fire.fireRightS.add(a,l),h.removeTile(a,l,x)),3==h.getTile(a,l,x,!0).index&&(re.mainElements.windmillNewS.add(a,l),h.removeTile(a,l,x)),552!==h.getTile(a,l,x,!0).index&&552!==h.getTile(a,l,E,!0).index&&552!==h.getTile(a,l,j,!0).index||U.push(a*P+","+l*P);re.mainElements.saveLevelS.obj=ge.add.group(),re.mainElements.saveLevelS.obj.enableBody=!0,re.mainElements.endLevelS.obj=ge.add.group(),re.mainElements.endLevelS.obj.enableBody=!0,re.mainElements.logs.obj=ge.add.group(),re.mainElements.logs.obj.enableBody=!0,re.mainElements.invisibleLogs.obj=ge.add.group(),re.mainElements.invisibleLogs.obj.enableBody=!0,re.mainElements.Lifes.obj=ge.add.group(),re.mainElements.Lifes.obj.enableBody=!0,re.mainElements.LifeSingleS.obj=ge.add.group(),re.mainElements.LifeSingleS.obj.enableBody=!0,re.mainElements.coins.obj=ge.add.group(),re.mainElements.coins.obj.enableBody=!0,re.mainElements.intruders.obj=ge.add.group(),re.mainElements.intruders.obj.enableBody=!0,re.mainElements.kladki.poziom.obj=ge.add.group(),re.mainElements.kladki.poziom.obj.enableBody=!0,re.mainElements.kladki.pionTopBack.obj=ge.add.group(),re.mainElements.kladki.pionTopBack.obj.enableBody=!0,re.mainElements.kladki.pionBottomBack.obj=ge.add.group(),re.mainElements.kladki.pionBottomBack.obj.enableBody=!0,re.mainElements.kladki.pionTop.obj=ge.add.group(),re.mainElements.kladki.pionTop.obj.enableBody=!0,re.mainElements.kladki.pionBottom.obj=ge.add.group(),re.mainElements.kladki.pionBottom.obj.enableBody=!0;for(var s=0;s<h.width;s++)for(var d=0;d<h.height;d++)602==h.getTile(s,d,x,!0).index&&(re.mainElements.saveLevelS.add(s,d,"->"),h.removeTile(s,d,x)),603==h.getTile(s,d,x,!0).index&&(re.mainElements.saveLevelS.add(s,d,"<-"),h.removeTile(s,d,x)),601==h.getTile(s,d,x,!0).index&&(re.mainElements.endLevelS.add(s,d),h.removeTile(s,d,x)),510==h.getTile(s,d,x,!0).index&&(re.mainElements.Lifes.add(s,d),h.removeTile(s,d,x)),460==h.getTile(s,d,x,!0).index&&(re.mainElements.LifeSingleS.add(s,d),h.removeTile(s,d,x)),502==h.getTile(s,d,x,!0).index&&(re.mainElements.coins.add(s,d),h.removeTile(s,d,x)),513==h.getTile(s,d,x,!0).index&&(h.removeTile(s,d,x),h.putTile(463,s,d,j)),267==h.getTile(s,d,x,!0).index&&(h.removeTile(s,d,x),h.putTile(217,s,d,j)),414==h.getTile(s,d,x,!0).index&&(re.mainElements.invisibleLogs.add(s,d),h.removeTile(s,d,x)),514==h.getTile(s,d,x,!0).index&&(re.mainElements.logs.lengthBonusCoins++,h.removeTile(s,d,x),h.putTile(564,s,d,j)),464==h.getTile(s,d,x,!0).index&&(h.removeTile(s,d,x),h.putTile(465,s,d,j)),268==h.getTile(s,d,x,!0).index&&(re.mainElements.logs.lengthBonusCoins++,h.removeTile(s,d,x),h.putTile(218,s,d,j)),269==h.getTile(s,d,x,!0).index&&(h.removeTile(s,d,x),h.putTile(219,s,d,j)),13==h.getTile(s,d,x,!0).index&&(re.mainElements.stoneBigS.add(s,d),h.removeTile(s,d,x)),503==h.getTile(s,d,x,!0).index&&(re.mainElements.bulletsGuns.add(s,d),h.removeTile(s,d,x)),551==h.getTile(s,d,x,!0).index&&(re.mainElements.intruders.add(s,d,1),h.removeTile(s,d,x)),553==h.getTile(s,d,x,!0).index&&(re.mainElements.intruders.add(s,d,2),h.removeTile(s,d,x)),554==h.getTile(s,d,x,!0).index&&(re.mainElements.intruders.add(s,d,3),h.removeTile(s,d,x)),555==h.getTile(s,d,x,!0).index&&(re.mainElements.intruders.add(s,d,4),h.removeTile(s,d,x)),556==h.getTile(s,d,x,!0).index&&(re.mainElements.intruders.add(s,d,5),h.removeTile(s,d,x)),557==h.getTile(s,d,x,!0).index&&(re.mainElements.intruders.add(s,d,6),h.removeTile(s,d,x)),505==h.getTile(s,d,x,!0).index&&(re.mainElements.kladki.poziom.add(s,d),h.removeTile(s,d,x)),506==h.getTile(s,d,x,!0).index&&(re.mainElements.kladki.pionTopBack.add(s,d),h.removeTile(s,d,x)),509==h.getTile(s,d,x,!0).index&&(re.mainElements.kladki.pionBottomBack.add(s,d),h.removeTile(s,d,x)),507==h.getTile(s,d,x,!0).index&&(re.mainElements.kladki.pionTop.add(s,d),h.removeTile(s,d,x)),508==h.getTile(s,d,x,!0).index&&(re.mainElements.kladki.pionBottom.add(s,d),h.removeTile(s,d,x)),501==h.getTile(s,d,x,!0).index&&(re.mainElements.player.add(s,d),h.removeTile(s,d,x));re.mainElements.firebs.obj=ge.add.group(),re.mainElements.firebs.obj.enableBody=!0,re.mainElements.waters.obj=ge.add.group(),re.mainElements.waters.obj.enableBody=!0,re.mainElements.waterStaticS.obj=ge.add.group(),re.mainElements.waterStaticS.obj.enableBody=!0,re.mainElements.splashs.obj=ge.add.group(),re.mainElements.splashs.obj.enableBody=!0,re.mainElements.fogSingleS.obj=ge.add.group(),re.mainElements.fogSingleS.obj.enableBody=!0;for(var m=0;m<h.width;m++)for(var c=0;c<h.height;c++)520==h.getTile(m,c,x,!0).index&&(re.mainElements.firebs.add(m,c,r(1,6)),h.removeTile(m,c,x)),521==h.getTile(m,c,x,!0).index&&(re.mainElements.firebs.add(m,c,r(1,6),!0),h.removeTile(m,c,x)),518==h.getTile(m,c,x,!0).index&&(re.mainElements.waters.add(m,c),h.removeTile(m,c,x)),519==h.getTile(m,c,x,!0).index&&(re.mainElements.waters.add(m,c,"water-red"),h.removeTile(m,c,x)),468===h.getTile(m,c,x,!0).index&&(re.mainElements.waterStaticS.add(m,c,!1,"left"),h.removeTile(m,c,x)),418===h.getTile(m,c,x,!0).index&&(re.mainElements.waterStaticS.add(m,c,!1,"center"),h.removeTile(m,c,x)),62===h.getTile(m,c,x,!0).index&&(re.mainElements.fogSingleS.add(m,c),h.removeTile(m,c,x));re.mainElements.logs.lengthBonusCoins||(re.mainElements.logs.lengthBonusCoins=0),te=re.mainElements.coins.obj.children.length+re.mainElements.logs.lengthBonusCoins,X.main=!0,re.audio.bg.play(.05,A[q.activeIdLevel].bgAudio),ge.load.start()}),p),re.buttons.play.hide(),re.buttons.quit.hide(),re.buttons.mute.hide()},ce=function(){ge.clearBeforeRender=!1,g=parseInt(b("unlock-levels"))>1?b("unlock-levels"):1,re.bgSet("#dfe4ff"),(v=ge.add.image(0,0,"backgroundMenu")).fixedToCamera=!0,re.buttons.play.show(),re.buttons.quit.show(),re.buttons.mute.show(b("mute")?10:9);var e=a()?"GL":"CA";re.text.show(!1,ge.width-180,ge.height-25,.9,"semDesign Game ("+(t()?"Android":"Browser")+") "+e,"400 12px Arial","#000000",!0,"logoText"),re.buttons.openBoxMenu.show(),re.buttons.levels.show(),ge.sound.mute=!!b("mute");var i=!0;ge.load.onLoadComplete.add((function(){i&&(re.mainElements.player.scale(),re.preloader.hide(),re.windows.boxTopMenu.f=!1,le?(re.mainElements.endLevelS.obj.alpha=0,re.mainElements.player.obj.body.gravity.y=-740,re.mainElements.player.obj.body.bounce.y=0,q.blockedKeys=!0,ge.time.events.add(1,(function(){re.mainElements.player.obj.alpha=0}),this),ge.camera.follow(re.mainElements.player.obj,Phaser.Camera.FOLLOW_LOCKON,1,1)):(re.image.show((re.windows.boxMenu.obj,0),(re.windows.boxMenu.obj,0),"boxTopMenu","boxTopMenu",.85,1,!1,!1,!1,!0),re.windows.boxTopMenu.const.show(),re.buttons.navigations.show()),re.buttons.openBoxMenu.show("play-game"),i=!1)}),p)},ue=function(){if(X.main){if(re.mainElements.windmillNewS.obj1.forEach((function(e){e.angle+=1}),p,!0),re.mainElements.player.obj.body.offset.x=8,re.mainElements.player.obj.body.width=32,(k.left.isDown||k.right.isDown||k.up.isDown)&&!ne&&(oe=re.mainElements.player.obj.body.y,ne=!0,re.mainElements.player.obj.body.bounce.y=.3),ge.physics.arcade.overlap(re.mainElements.player.gun.bullets.obj,j,(function(e,i){463===i.index||564===i.index||465===i.index||217===i.index||218===i.index||219===i.index?(i.x-1>0&&i.y-1>0&&(463===h.getTile(i.x-1,i.y-1,j,!0).index||564===h.getTile(i.x-1,i.y-1,j,!0).index||465===h.getTile(i.x-1,i.y-1,j,!0).index||217===h.getTile(i.x-1,i.y-1,j,!0).index||218===h.getTile(i.x-1,i.y-1,j,!0).index||219===h.getTile(i.x-1,i.y-1,j,!0).index)&&h.removeTile(i.x-1,i.y-1),463!==h.getTile(i.x+1,i.y+1,j,!0).index&&564!==h.getTile(i.x+1,i.y+1,j,!0).index&&465!==h.getTile(i.x+1,i.y+1,j,!0).index&&217!==h.getTile(i.x+1,i.y+1,j,!0).index&&218!==h.getTile(i.x+1,i.y+1,j,!0).index&&219!==h.getTile(i.x+1,i.y+1,j,!0).index||h.removeTile(i.x+1,i.y+1),463!==h.getTile(i.x+1,i.y,j,!0).index&&564!==h.getTile(i.x+1,i.y,j,!0).index&&465!==h.getTile(i.x+1,i.y,j,!0).index&&217!==h.getTile(i.x+1,i.y,j,!0).index&&218!==h.getTile(i.x+1,i.y,j,!0).index&&219!==h.getTile(i.x+1,i.y,j,!0).index||h.removeTile(i.x+1,i.y),463!==h.getTile(i.x,i.y+1,j,!0).index&&564!==h.getTile(i.x,i.y+1,j,!0).index&&465!==h.getTile(i.x,i.y+1,j,!0).index&&217!==h.getTile(i.x,i.y+1,j,!0).index&&218!==h.getTile(i.x,i.y+1,j,!0).index&&219!==h.getTile(i.x,i.y+1,j,!0).index||h.removeTile(i.x,i.y+1),i.x-1>0&&(463===h.getTile(i.x-1,i.y,j,!0).index||564===h.getTile(i.x-1,i.y,j,!0).index||465===h.getTile(i.x-1,i.y,j,!0).index||217===h.getTile(i.x-1,i.y,j,!0).index||218===h.getTile(i.x-1,i.y,j,!0).index||219===h.getTile(i.x-1,i.y,j,!0).index)&&h.removeTile(i.x-1,i.y),i.y-1>0&&(463===h.getTile(i.x,i.y-1,j,!0).index||564===h.getTile(i.x,i.y-1,j,!0).index||465===h.getTile(i.x,i.y-1,j,!0).index||217===h.getTile(i.x,i.y-1,j,!0).index||218===h.getTile(i.x,i.y-1,j,!0).index||219===h.getTile(i.x,i.y-1,j,!0).index)&&h.removeTile(i.x,i.y-1),i.x-1>0&&(463===h.getTile(i.x-1,i.y+1,j,!0).index||564===h.getTile(i.x-1,i.y+1,j,!0).index||465===h.getTile(i.x-1,i.y+1,j,!0).index||217===h.getTile(i.x-1,i.y+1,j,!0).index||218===h.getTile(i.x-1,i.y+1,j,!0).index||219===h.getTile(i.x-1,i.y+1,j,!0).index)&&h.removeTile(i.x-1,i.y+1),i.y-1>0&&(463===h.getTile(i.x+1,i.y-1,j,!0).index||564===h.getTile(i.x+1,i.y-1,j,!0).index||465===h.getTile(i.x+1,i.y-1,j,!0).index||217===h.getTile(i.x+1,i.y-1,j,!0).index||218===h.getTile(i.x+1,i.y-1,j,!0).index||219===h.getTile(i.x+1,i.y-1,j,!0).index)&&h.removeTile(i.x+1,i.y-1),463!==h.getTile(i.x+2,i.y,j,!0).index&&564!==h.getTile(i.x+2,i.y,j,!0).index&&465!==h.getTile(i.x+2,i.y,j,!0).index&&217!==h.getTile(i.x+2,i.y,j,!0).index&&218!==h.getTile(i.x+2,i.y,j,!0).index&&219!==h.getTile(i.x+2,i.y,j,!0).index||h.removeTile(i.x+2,i.y),i.x-2>0&&(463===h.getTile(i.x-2,i.y,j,!0).index||564===h.getTile(i.x-2,i.y,j,!0).index||465===h.getTile(i.x-2,i.y,j,!0).index||217===h.getTile(i.x-2,i.y,j,!0).index||218===h.getTile(i.x-2,i.y,j,!0).index||219===h.getTile(i.x-2,i.y,j,!0).index)&&h.removeTile(i.x-2,i.y),re.mainElements.explosion.add(i.x,i.y),h.removeTile(i.x,i.y),463===i.index&&re.mainElements.logs.add(i.x,i.y,!1,"log"),564===i.index&&re.mainElements.logs.add(i.x,i.y,"coin","log"),465===i.index&&re.mainElements.logs.add(i.x,i.y,"surprise","log"),217===i.index&&re.mainElements.logs.add(i.x,i.y,!1,"stone"),218===i.index&&re.mainElements.logs.add(i.x,i.y,"coin","stone"),219===i.index&&re.mainElements.logs.add(i.x,i.y,"surprise","stone")):i.index>0&&e&&(e.kill(),re.mainElements.explosion.add(i.x,i.y))}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,j,(function(e,i){101===i.index?(i.collideDown=!1,i.collideUp=!1,i.collideLeft=!1,i.collideRight=!1,ge.time.events.add(1,(function(){i.collideDown=!0,i.collideUp=!0,i.collideLeft=!0,i.collideRight=!0}),this)):417===i.index?(h.removeTile(i.x,i.y,j),h.putTile(416,i.x,i.y,j),re.mainElements.openDoor(e)):463!==i.index&&564!==i.index&&465!==i.index&&217!==i.index&&218!==i.index&&219!==i.index||(h.removeTile(i.x,i.y),463===i.index&&re.mainElements.logs.add(i.x,i.y,!1,"log"),564===i.index&&re.mainElements.logs.add(i.x,i.y,"coin","log"),465===i.index&&re.mainElements.logs.add(i.x,i.y,"surprise","log"),217===i.index&&re.mainElements.logs.add(i.x,i.y,!1,"stone"),218===i.index&&re.mainElements.logs.add(i.x,i.y,"coin","stone"),219===i.index&&re.mainElements.logs.add(i.x,i.y,"surprise","stone"))}),null,p),ge.physics.arcade.overlap(re.mainElements.player.gun.bullets.obj,j,(function(e,i){101===i.index&&(i.collideDown=!1,i.collideUp=!1,i.collideLeft=!1,i.collideRight=!1,ge.time.events.add(1,(function(){i.collideDown=!0,i.collideUp=!0,i.collideLeft=!0,i.collideRight=!0}),this))}),null,p),re.mainElements.player.obj.t1=!1,ge.physics.arcade.collide(re.mainElements.player.obj,j,(function(e,i){re.mainElements.player.checkIfWasKilledAndOther(e),e.killHitIntruder&&(e.killHitIntruder=!1),(k.right.isDown||k.left.isDown)&&(e.body.blocked.right||e.body.blocked.left)&&!w.isDown&&e.body.onFloor()&&(e.body.velocity.y=-12*P)}),null,p),ge.physics.arcade.collide(re.mainElements.coins.obj,j),ge.physics.arcade.collide(re.mainElements.logs.obj,j),ge.physics.arcade.collide(re.mainElements.logs.obj,re.mainElements.intruders.obj,(function(e,i){re.mainElements.intruders.collisionBack(i)}),null,p),ge.physics.arcade.collide(re.mainElements.logs.obj,re.mainElements.logs.obj,(function(e){})),ge.physics.arcade.overlap(re.mainElements.invisibleLogs.obj,re.mainElements.player.obj,(function(e,i){i.onlynOne||re.mainElements.player.obj.body.overlapY>0||(i.body.velocity.y=-330,"left"===J?i.body.velocity.x=-30:"right"===J&&(i.body.velocity.x=30),re.audio.breakGround(),ge.time.events.add(50,(function(){i.body.allowGravity=!0,i.body.checkCollision.down=!1}),this),i.originY=i.y,i.scale.setTo(1,1),i.animations.add("run",[11,10,9,8,7,6,5,4,3,2,1,0,0,0]).onComplete.add((function(){i.originX=i.x,re.audio.magic(),h.putTile(104,Math.ceil(i.originX/P),Math.ceil(i.originY/P)+1,j),h.putTile(104,Math.ceil(i.originX/P)+1,Math.ceil(i.originY/P)+1,j),h.putTile(104,Math.ceil(i.originX/P)+2,Math.ceil(i.originY/P)+1,j),h.putTile(104,Math.ceil(i.originX/P)-1,Math.ceil(i.originY/P)+1,j),h.putTile(104,Math.ceil(i.originX/P)-2,Math.ceil(i.originY/P)+1,j),i.kill()}),this),i.animations.play("run",15,!1),i.onlynOne=!0)}),null,p),ge.physics.arcade.overlap(re.mainElements.player.gun.bullets.obj,re.mainElements.logs.obj,(function(e,i){re.mainElements.logs.destruction(i),e.kill()}),null,p),ge.physics.arcade.collide(re.mainElements.logs.obj,re.mainElements.player.obj,(function(e,i){re.mainElements.player.obj.body.overlapY>0?(re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),i.isUp=!0,re.mainElements.player.obj.body.allowGravity=!1,ge.time.events.add(300,(function(){i.isUp=!1}),this)):re.mainElements.logs.destruction(i)}),null,p),re.mainElements.stoneBigS.obj.forEach((function(e){0!==e.body.gravity.x&&(e.body.gravity.x=0),e.keepStone?(re.mainElements.stoneBigS.keepStone=!0,e.y=re.mainElements.player.obj.y+re.mainElements.player.obj.height-e.body.height/2,"right"===O?e.x=re.mainElements.player.obj.x+re.mainElements.player.obj.width:"left"===O&&(e.x=re.mainElements.player.obj.x)):Math.ceil(e.body._dy)>4&&(e.quake=!0)}),p,!0),ge.physics.arcade.collide(re.mainElements.stoneBigS.obj,j,(function(e,i){e.quake&&(re.audio.quake(),ge.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL),e.quake=!1)}),null,p),ge.physics.arcade.collide(re.mainElements.intruders.obj,re.mainElements.stoneBigS.obj,(function(e,i){i.quake?(i.quake=!1,e.body.overlapY<0&&e.body.height&&(e.body.height=0,e.killing||re.mainElements.intruders.collisionIntruz(e,"total-kill"),e.killing=!0),re.audio.quake(),ge.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL)):(re.mainElements.intruders.collisionBack(e),i.body.moves=!1,i.body.immovable=!0,ge.time.events.remove(i.fOnlyOne),i.fOnlyOne=ge.time.events.add(300,(function(){i.body.moves=!0,i.body.immovable=!1,i.body.velocity.x=0,i.body.velocity.y=0}),this))}),null,p),ge.physics.arcade.collide(re.mainElements.player.gun.bullets.obj,re.mainElements.stoneBigS.obj,(function(e,i){re.mainElements.explosion.add(e.body.position.x/P,e.body.position.y/P),re.mainElements.stoneBigExplosion.add(i.body.position.x/P,i.body.position.y/P),i.kill(),e.kill()}),null,p),re.mainElements.player.colisinStoneCollision=0,ge.physics.arcade.collide(re.mainElements.player.obj,re.mainElements.stoneBigS.obj,(function(e,i){if(0===e.body.overlapY&&(re.mainElements.player.colisinStoneCollision++,k.down.isDown&&!re.mainElements.stoneBigS.keepStone?(i.keepStone=!0,re.mainElements.stoneBigS.keepStone=!0,se=50,e.youCanJump=!1,O=k.left.isDown?"left":"right",ge.time.events.add(10,(function(){se=50}),this)):(i.body.immovable=!0,i.body.moves=!1,ge.time.events.remove(e.timeStoneHeavy),e.timeStoneHeavy=ge.time.events.add(300,(function(){i.body.immovable=!1,i.body.moves=!0}),this),k.down.isDown&&re.mainElements.stoneBigS.keepStone&&(i.keepStone=!1,re.mainElements.stoneBigS.keepStone=!1,se=1!==re.mainElements.player.obj.scale.y?300:200,i.body.velocity.y=-300,i.body.velocity.x="left"===O?-300:300)),i.body.immovable=!1,i.body.moves=!0,i.body.gravity.x=0,q.blockedKeys?i.body.gravity.x=0:k.right.isDown?i.body.gravity.x=re.mainElements.stoneBigS.keepStone?8500:-8500:k.left.isDown&&(i.body.gravity.x=re.mainElements.stoneBigS.keepStone?-8500:8500),ge.time.events.remove(e.timeStoneHeavy),e.timeStoneHeavy=ge.time.events.add(30,(function(){i.body.gravity.x=0,i.body.immovable=!1}),this),re.mainElements.player.colisinStoneCollision>1&&(i.body.gravity.x=0)),i.quake&&(re.audio.quake(),ge.camera.shake(.005,200,!0,Phaser.Camera.SHAKE_VERTICAL),i.quake=!1,e.body.overlapY<0&&e.body.height)){var n=e.body.height;e.body.height=0,ge.time.events.add(300,(function(){e.body.height=n}),this),re.mainElements.player.lostLife(e,10)}i.keepStone||(e.youCanJump=!0,ge.time.events.add(300,(function(){e.youCanJump=!1}),this)),i.quake=!1,i.onlyOne&&"idle"===J||(re.mainElements.player.checkIfWasKilledAndOther(e),i.onlyOne=!0),ge.time.events.remove(i.fOnlyOne),i.fOnlyOne=ge.time.events.add(100,(function(){i.onlyOne=!1,i.body.moves=!0,i.body.immovable=!1,i.body.velocity.x=0,i.body.velocity.y=0}),this)}),null,p),ge.physics.arcade.collide(re.mainElements.stoneBigS.obj,re.mainElements.stoneBigS.obj,(function(e,i){ge.time.events.remove(e.timeCheck1),e.timeCheck1=ge.time.events.add(50,(function(){e.body.velocity.x=0}),this),ge.time.events.remove(i.timeCheck1),i.timeCheck1=ge.time.events.add(50,(function(){i.body.velocity.x=0}),this)})),ge.physics.arcade.collide(re.mainElements.Lifes.obj,j),ge.physics.arcade.collide(re.mainElements.player.gun.bullets.obj,j),ge.physics.arcade.overlap(re.mainElements.player.gun.bullets.obj,re.mainElements.intruders.obj,(function(e,i){4===i.type||5===i.type?(i.killing||re.mainElements.intruders.collisionIntruz(i,"total-kill"),i.killing=!0):(re.audio.screamIntruder(.05),i.deactiveVelocity=e.direction,i.firstShoot?(i.randomMove="intruzLeft",i.killing||(re.mainElements.intruders.collisionIntruz(i,"total-kill"),i.killing=!0)):(6===i.type?i.firstShoot=0:(i.firstShoot=1,i.randomSpeed=i.randomSpeed/2),ge.time.events.add(50,(function(){re.mainElements.splashs.add(i.body.position.x/P,e.body.position.y/P,"splash-water-red","blood")}),this),ge.time.events.add(50,(function(){"intruzRight"===i.randomMove?i.randomMove="intrudersdleLeft":i.randomMove="intrudersdleRight"}),this),ge.time.events.add(600,(function(){"intrudersdleLeft"===i.randomMove?i.randomMove="intruzRight":i.randomMove="intruzLeft",i.deactiveVelocity=!1}),this))),re.mainElements.explosion.add(e.body.position.x/P,e.body.position.y/P),e.kill()}),null,p),ge.physics.arcade.overlap(re.mainElements.player.gun.bullets.obj,j,(function(e,i){(e.body.blocked.right||e.body.blocked.left)&&e.kill()}),null,p),re.mainElements.player.obj.gForceWater&&(re.mainElements.player.obj.body.gravity.y=0,re.mainElements.player.obj.gForceWater=!1),re.mainElements.firebs.obj.forEach((function(e){e.startPositionSaveY||(e.startPositionSaveY=Math.ceil(e.body.position.y/P)),e.currentPositionY=Math.ceil(e.body.position.y/P),0==Z&&(e.start=!0),re.mainElements.player.detectionHoldOnObject(e,2)?(e.active=!0,e.activeWait&&(ge.time.events.add(1e3*r(0,3),(function(){e.fall=!1,e.alpha=1}),this),e.activeWait=!1)):e.active=!1,e.start&&(e.fall?e.startPositionSaveY-e.currentPositionY!=0||e.t||(e.body.velocity.y=0,e.body.allowGravity=!1,e.t=!0,e.alpha=0,ge.time.events.add(1e3*r(1,6),(function(){e.active?(e.fall=!1,e.alpha=1):e.activeWait=!0}),this)):e.startPositionSaveY-e.currentPositionY==0?(e.typeFire||e.animations.play("run1",10,!0),e.alpha=1,e.body.allowGravity=!1,e.body.velocity.y=-600):e.startPositionSaveY-e.currentPositionY==4?e.body.allowGravity=!0:e.startPositionSaveY-e.currentPositionY==16&&(e.typeFire||e.animations.play("run2",10,!0),e.body.allowGravity=!0,e.body.velocity.y=0,e.fall=!0,e.t=!1))}),p,!0),ge.physics.arcade.overlap(re.mainElements.firebs.obj,re.mainElements.waters.obj,(function(e,i){ge.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=ge.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),e.gForceWaterOnlyeOne||(re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P,(e.body.position.y+(e.typeFire?-16:8))/P,"water-red"===i.type&&"splash-water-red"),e.gForceWaterOnlyeOne=!0)}),null,p),ge.physics.arcade.overlap(re.mainElements.stoneBigS.obj,re.mainElements.waters.obj,(function(e,i){ge.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=ge.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),e.gForceWaterOnlyeOne||(re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P,(e.body.position.y+(e.typeFire?-16:8))/P,"water-red"===i.type&&"splash-water-red"),e.gForceWaterOnlyeOne=!0)}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.firebs.obj,(function(e,i){1===i.alpha&&re.mainElements.player.lostLife(e)}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.waters.obj,(function(e,i){if(e.body.gravity.y=-525,re.mainElements.player.checkIfWasKilledAndOther(e,"water"),ge.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=ge.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),"water-red"!==i.type?(ge.time.events.remove(e.waterYSaveTime),e.waterYSaveTime=ge.time.events.add(300,(function(){e.waterYSave=!1}),this),e.waterYSave||(e.waterYSave=Math.ceil(i.body.position.y/P)),e.waterYSave-Math.ceil(e.body.position.y/P)<2?(e.iterWater||(e.iterWater=1),e.iterWater++,e.iterWater>=250&&(re.mainElements.player.lostLife(e),e.iterWater=!1)):e.iterWater=!1):re.mainElements.player.lostLife(e,10),!e.gForceWaterOnlyeOne){var n=!1;"water-red"===i.type&&(n="splash-water-red"),"left"===e.animations.currentAnim.name||"jump-left"===e.animations.currentAnim.name?re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P-32/P,(e.body.position.y+32)/P,n):"right"===e.animations.currentAnim.name||"jump-right"===e.animations.currentAnim.name?re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P+32/P,(e.body.position.y+32)/P,n):re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P,(e.body.position.y+28)/P,n),e.gForceWaterOnlyeOne=!0}e.gForceWater=!0,(k.left.isDown||k.right.isDown)&&(e.delayWater||(e.gForceWaterOnlyeOne=!1,e.delayWater=!0),V%15==0&&(e.delayWater=!1))}),null,p),re.mainElements.waters.obj.forEach((function(e){re.mainElements.player.detectionHoldOnObject(e,1)?e.alpha||(e.alpha=.7):e.alpha&&(e.alpha=0)}),p,!0),re.mainElements.intruders.obj.forEach((function(e){e.type<4&&(e.body.offset.x=8,e.body.width=32),e.gForceWater&&(e.body.gravity.y=0,e.gForceWater=!1),4===e.type?(e.body.offset.y=6,e.body.height=26):5===e.type&&(e.body.offset.y=16,e.body.height=52,e.jumpToFly||(e.body.velocity.y=V>=0&&V<60?-50:25)),e.body.y+e.height===h.height*h.tileHeight&&(e.killing||re.mainElements.intruders.collisionIntruz(e,"total-kill"),e.killing=!0),6===e.type&&("intrudersdleRight"!==e.randomMove&&"intrudersdleLeft"!==e.randomMove||e.position.x>re.mainElements.player.obj.position.x-128&&e.position.x<re.mainElements.player.obj.position.x+64&&("intrudersdleRight"===e.randomMove?e.randomMove="intruzRight":"intrudersdleLeft"===e.randomMove&&(e.randomMove="intruzLeft")))}),p,!0),ge.physics.arcade.overlap(re.mainElements.intruders.obj,re.mainElements.waters.obj,(function(e,i){if(e.active){if(e.body.gravity.y=-525,ge.time.events.remove(e.gForceWaterTimer),e.gForceWaterTimer=ge.time.events.add(100,(function(){e.gForceWaterOnlyeOne=!1}),this),!e.gForceWaterOnlyeOne){4===e.type?e.move_y=-33/P:e.move_y=0;var n=!1;"water-red"===i.type&&(e.killed||(re.mainElements.intruders.collisionIntruz(e,"total-kill"),e.killed=!0),n="splash-water-red"),"left"===e.animations.currentAnim.name?re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P-32/P,e.move_y+(e.body.position.y+32)/P,n):"right"===e.animations.currentAnim.name?re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P+32/P,e.move_y+(e.body.position.y+32)/P,n):re.mainElements.splashs.add((e.body.position.x+e.body.width/2)/P,e.move_y+(e.body.position.y+28)/P,n),e.gForceWaterOnlyeOne=!0}e.gForceWater=!0,"right"!=e.animations.currentAnim.name&&"left"!=e.animations.currentAnim.name||(e.delayWater||(e.gForceWaterOnlyeOne=!1,e.delayWater=!0),V%15==0&&(e.delayWater=!1))}}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.coins.obj,(function(e,i){re.audio.coin(),re.mainElements.player.numberCoins++,re.mainElements.player.numberCoinsLevel++,re.mainElements.player.numberCoinsLevelProcent=Math.ceil(100*re.mainElements.player.numberCoinsLevel/te),i.kill(),re.windows.boxTopMenu.f=!1,re.addPoint(i.x,e.y,"addPointGold"+re.mainElements.player.numberCoins,"+1 gold")}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.Lifes.obj,(function(e,i){re.mainElements.player.numberMainLifes++,re.audio.life(),e.body.velocity.y=-300,ge.time.events.remove(re.mainElements.player.timeLife),1===e.scale.y&&(re.mainElements.player.scale("increase"),re.mainElements.player.timeLife=ge.time.events.add(3e4,(function(){e.scale.y>1&&re.mainElements.player.scale("restart")}),this)),ge.time.events.add(200,(function(){re.audio.life(),ge.time.events.add(200,(function(){re.audio.life()}),this)}),this),i.kill(),re.windows.boxTopMenu.f=!1,re.addPoint(i.x,e.y,"addPointFullLife"+re.mainElements.player.numberMainLifes,"+1 full life")}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.LifeSingleS.obj,(function(e,i){re.mainElements.player.numberLifes===z||(re.mainElements.player.numberLifes++,re.audio.life(),i.kill(),re.windows.boxTopMenu.f=!1,re.addPoint(i.x,e.y,"addPointLife"+re.mainElements.player.numberLifes,"+1 life"))}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.bulletsGuns.obj,(function(e,i){re.audio.bullets(),re.mainElements.player.countBullets+=6,re.mainElements.player.countBulletsF=!0,i.kill(),re.windows.boxTopMenu.f=!1,re.addPoint(i.x,e.y,"addPointBullet"+re.mainElements.player.countBullets,"+6 bullets")}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.endLevelS.obj,(function(e,i){if(!q.readyLoad){re.mainElements.player.removeKeepStone(),re.audio.nextLevel(),c("id-level-last-memory",q.activeIdLevel),c("coins",re.mainElements.player.numberCoins),c("coins-"+q.activeIdLevel,re.mainElements.player.numberCoinsLevel),re.mainElements.player.numberCoinsLevelProcent>re.mainElements.player.numberCoinsLevelProcentLastMemory&&c("coins-procent-"+q.activeIdLevel,re.mainElements.player.numberCoinsLevelProcent),c("Lifes",re.mainElements.player.numberLifes),c("main-Lifes",re.mainElements.player.numberMainLifes),c("bullets",re.mainElements.player.countBullets),q.readyLoad=!0,q.blockedKeys=!0;var n=function(){re.text.hide("score"),re.text.hide("scoreTotal"),be(),q.activeIdLevel=q.activeIdLevel+1,f===q.activeIdLevel-1?re.windows.boxMenu.show("game-complete"):(ye(),q.name="level"+q.activeIdLevel,(!b("unlock-levels")||b("unlock-levels")<q.activeIdLevel)&&(g=q.activeIdLevel,c("unlock-levels",g)),me(!1,f===q.activeIdLevel,Q))};if(le)ge.time.events.add(3e3,n,this);else{re.mainElements.player.obj.animations.play("end-level"),ge.time.events.add(3e3,(function(){re.mainElements.player.obj.animations.play("idle-left")}),this),re.mainElements.player.obj.body.bounce.y=.9,re.mainElements.player.obj.body.velocity.y=-330,re.mainElements.player.jumpTimer=ge.time.now+330;var o=re.mainElements.player.numberCoinsLevelProcentLastMemory,t="";Q=0;ge.time.events.add(3e3,(function e(){re.text.show("center",0,0,.9,"Score: "+Q+"%","bold 20px Arial","#dad9d5",!0,"score",!0),re.audio.ticScore(),Q<re.mainElements.player.numberCoinsLevelProcent?(Q++,ge.time.events.add(100,e,this)):(re.audio.quake(),ge.camera.shake(.05,500,!0,Phaser.Camera.SHAKE_VERTICAL),o>Q?t="\nYour the best score: "+o+"%":Q&&(t="\nThis is your best score!"),f===q.activeIdLevel+1?ge.time.events.add(1e3,(function(){for(var e=0,i=1;i<f;i++)b("coins-procent-"+i)&&(e+=parseInt(b("coins-procent-"+i)));e=Math.ceil(e/(f-1));var o=0;!function i(){o<e?(o++,ge.time.events.add(100,i,this)):(re.audio.quake(.6),ge.camera.shake(.08,600,!0,Phaser.Camera.SHAKE_VERTICAL),ge.time.events.add(4e3,n,this)),re.text.hide("scoreTotal"),re.text.show("center",0,3*P,.9,"Score Total: "+o+"%","bold 32px Arial","#dad9d5",!0,"scoreTotal",!0),re.audio.ticScore()}()}),this):ge.time.events.add(4e3,n,this)),re.text.hide("score"),re.text.show("center",0,0,.9,"Score: "+Q+"%"+t,"bold 20px Arial","#dad9d5",!0,"score",!0)}),this)}var a=null;window.requestAnimationFrame((function e(i){a||(a=i),"right"===J?re.mainElements.player.obj.body.velocity.x=100:"left"===J&&(re.mainElements.player.obj.body.velocity.x=-100),i-a<500&&window.requestAnimationFrame(e)}))}re.windows.boxTopMenu.f=!1}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.saveLevelS.obj,(function(e,i){ee===i.body.x&&ie===i.body.y||i.block||(ee=i.body.x,ie=i.body.y,i.block=!0,i.animations.play("run2",17,!0),re.audio.flash(1))}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.keys.obj,(function(e,i){i.kill(),ae++,re.audio.key(.8),re.windows.boxTopMenu.f=!1,re.addPoint(i.x,e.y,"addPointKey","You got the key!")}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.locks.obj,(function(e,i){ae>0&&(i.kill(),re.mainElements.openDoor(e),re.windows.boxTopMenu.f=!1,ae--)}),null,p),ge.physics.arcade.collide(re.mainElements.player.obj,re.mainElements.doors.obj),ge.physics.arcade.collide(re.mainElements.player.obj,re.mainElements.doorsHorizontal.obj,(function(e,i){e.youCanJump=!0,ge.time.events.add(300,(function(){e.youCanJump=!1}),this),re.mainElements.player.checkIfWasKilledAndOther(e)}),null,p),ge.physics.arcade.collide(re.mainElements.intruders.obj,re.mainElements.doors.obj,(function(e,i){re.mainElements.intruders.collisionBack(e)})),ge.physics.arcade.collide(re.mainElements.intruders.obj,re.mainElements.doorsHorizontal.obj),ge.physics.arcade.collide(re.mainElements.stoneBigS.obj,re.mainElements.doors.obj),ge.physics.arcade.collide(re.mainElements.player.gun.bullets.obj,re.mainElements.doors.obj,(function(e,i){re.mainElements.explosion.add(i.x/P,e.y/P),e.kill()}),null,p),ge.physics.arcade.collide(re.mainElements.stoneBigS.obj,re.mainElements.doorsHorizontal.obj),re.mainElements.player.obj.body.y+re.mainElements.player.obj.height===h.height*h.tileHeight&&re.mainElements.player.lostLife(re.mainElements.player.obj,3),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.fire.fireUpS.obj,(function(e,i){re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.player.lostLife(e)}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.fire.fireDownS.obj,(function(e,i){re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.player.lostLife(e)}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.fire.fireLeftS.obj,(function(e,i){re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.player.lostLife(e)}),null,p),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.fire.fireRightS.obj,(function(e,i){re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.player.lostLife(e)}),null,p),ge.physics.arcade.collide(re.mainElements.intruders.obj,j),q.blockedKeys||(ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.intruders.obj,(function(e,i){i.killing||(e.body.overlapY>0&&(re.mainElements.player.checkIfWasKilledAndOther(e),4===i.type?re.audio.breakBones():5===i.type?re.audio.condor():re.audio.screamIntruder(.05),re.mainElements.intruders.collisionIntruz(i),5!==i.type&&6!==i.type&&(i.hit&&e.killHitIntruder||(e.killHitIntruder=!0,i.hit=1),i.hit>6?(i.killing||re.mainElements.intruders.collisionIntruz(i,"total-kill"),i.killing=!0,i.hit=!1,i.type<4&&re.mainElements.bulletsGuns.add(i.x/P-1,i.y/P),i.type<4&&i.giveBackLive&&re.mainElements.LifeSingleS.add(i.x/P,i.y/P)):i.hit++)),0!==e.body.overlapY&&(re.mainElements.player.lostLife(e),i.giveBackLive=!0))}),null,p),ge.physics.arcade.collide(re.mainElements.intruders.obj,re.mainElements.player.obj)),re.mainElements.player.countBulletsF&&(0===re.mainElements.player.countBullets?(re.buttons.navigations.shot.alpha=0,re.buttons.navigations.shot.inputEnabled=!1):(re.buttons.navigations.shot.alpha=.1,re.buttons.navigations.shot.inputEnabled=!0),re.mainElements.player.countBulletsF=!1),V>=120?V=0:V++,ge.physics.arcade.overlap(re.mainElements.intruders.obj,j,(function(e,i){if(re.mainElements.player.detectionHoldOnObject(e,.8)?(e.active=!0,0===e.alpha&&(e.alpha=1)):(e.active=!1,e.alpha=0,e.body.velocity.x=0,e.animations.stop()),e.active)if(e.timeLoop||(e.timeLoop=1,re.mainElements.intruders.id++,e.id=re.mainElements.intruders.id,e.break=4e3*e.id),e.timeLoop++,e.body.velocity.x=0,"intruzRight"==e.randomMove||"intruzLeft"==e.randomMove)1!==e.type&&4!==e.type&&5!==e.type||(e.body.blocked.left?(4===e.type?(e.frame=41,ge.time.events.add(30,(function(){e.frame=37}),this),ge.time.events.add(60,(function(){e.randomMove="intruzLeft"}),this)):e.randomMove="intruzLeft",5===e.type&&re.audio.condor()):e.body.blocked.right&&(4===e.type?(e.frame=40,ge.time.events.add(30,(function(){e.frame=37}),this),ge.time.events.add(60,(function(){e.randomMove="intruzRight"}),this)):e.randomMove="intruzRight",5===e.type&&re.audio.condor())),e.body.blocked.up&&(e.body.blocked.left?e.randomMove="intruzLeft":e.body.blocked.right&&(e.randomMove="intruzRight")),2!==e.type&&3!==e.type||(e.body.blocked.left||e.body.blocked.right)&&(re.mainElements.intruders.jump(e,450),2===V&&(e.body.blocked.left?e.randomMove="intruzLeft":e.body.blocked.right&&(e.randomMove="intruzRight"))),1===e.type||2===e.type||4===e.type||5===e.type||6===e.type?"intruzRight"==e.randomMove?(4===e.type?e.body.velocity.x=-e.randomSpeed/2:5===e.type?e.body.velocity.x=-e.randomSpeed/1.2:e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,re.mainElements.intruders.jump(e,200)):e.body.velocity.x=-e.randomSpeed,e.animations.play("left"),e.check=!1):"intruzLeft"==e.randomMove&&(4===e.type?e.body.velocity.x=e.randomSpeed/2:5===e.type?e.body.velocity.x=e.randomSpeed/1.2:e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,re.mainElements.intruders.jump(e,200)):e.body.velocity.x=e.randomSpeed,e.animations.play("right"),e.check=!1):3===e.type&&("intruzRight"==e.randomMove?e.timeLoop>=2e3+e.break&&e.timeLoop<=4e3+e.break?(e.check||(e.body.velocity.x=0,e.animations.play("idle-left"),e.randomMove="intruzLeft",e.check=!0),e.killing&&e.animations.play("kill")):(e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,re.mainElements.intruders.jump(e,200)):e.body.velocity.x=-e.randomSpeed,e.animations.play("left"),e.check=!1):"intruzLeft"==e.randomMove&&(e.timeLoop>=2e3+e.break&&e.timeLoop<=4e3+e.break?(e.check||(e.body.velocity.x=0,e.animations.play("idle-right"),e.randomMove="intruzRight",e.check=!0),e.killing&&e.animations.play("kill")):(e.deactiveVelocity?("left"===e.deactiveVelocity?e.body.velocity.x=-1e3:e.body.velocity.x=1e3,re.mainElements.intruders.jump(e,200)):e.body.velocity.x=e.randomSpeed,e.animations.play("right"),e.check=!1))),6===e.type&&(e.area||(e.position.x<re.mainElements.player.obj.position.x?e.randomMove="intruzLeft":e.randomMove="intruzRight",e.area=!0,ge.time.events.add(m([600,900,1200]),(function(){e.area=!1}),this)),(e.body.blocked.left||e.body.blocked.right)&&(re.mainElements.intruders.jump(e,450),2===V&&(e.body.blocked.left?e.randomMove="intrudersdleLeft":e.body.blocked.right&&(e.randomMove="intrudersdleRight")))),5===e.type&&e.body.blocked.down&&(re.mainElements.intruders.jump(e,350),re.audio.condor()),e.timeLoop>=1&&e.timeLoop<=4e3+e.break||(e.timeLoop=1);else if("intrudersdleRight"===e.randomMove)e.animations.play("idle-right");else if("intrudersdleLeft"===e.randomMove)e.animations.play("idle-left");else if("intruzDelete"===e.randomMove){e.randomMove=parseInt(2*Math.random())?"intruzRight":"intruzLeft";var n=[],o=e.wspStartX,t=e.wspStartY;if(U.length>0){var a=r(0,U.length-1);n=U[a].split(","),o=parseInt(n[0]/P),t=parseInt(n[1]/P)}e.kill(),ge.time.events.add(1e3*r(8,16),(function(){re.mainElements.intruders.add(o,t,e.type)}),this)}else"intruzStop"==e.randomMove&&(4===e.type||5===e.type||(e.frame=37))}),null,p),re.mainElements.player.obj.body.velocity.x=0,q.blockedKeys||(k.up.isDown&&("right"===J?re.mainElements.player.obj.touchGround||re.mainElements.player.obj.animations.play("jump-right"):"left"===J&&(re.mainElements.player.obj.touchGround||re.mainElements.player.obj.animations.play("jump-left")),re.mainElements.player.obj.touchGroundTime=ge.time.events.add(300,(function(){q.blockedKeys||("left"===J?re.mainElements.player.obj.animations.play("left"):"right"===J&&re.mainElements.player.obj.animations.play("right"),re.mainElements.player.obj.touchGround=!0)}),p)),k.left.isDown?(re.mainElements.player.obj.body.velocity.x=-se,"left"!==J&&(re.mainElements.player.obj.animations.play("left"),J="left")):k.right.isDown?(re.mainElements.player.obj.body.velocity.x=se,"right"!==J&&(re.mainElements.player.obj.animations.play("right"),J="right")):"idle"!==J&&(re.mainElements.player.obj.animations.stop(),"left"===J?re.mainElements.player.obj.animations.play("idle-left"):re.mainElements.player.obj.animations.play("idle-right"),J="idle")),ge.physics.arcade.collide(re.mainElements.kladki.poziom.obj,j),ge.physics.arcade.overlap(re.mainElements.kladki.poziom.obj,j,(function(e,i){e.body.velocity.x=0,e.onlyOne||(e.run=!0,e.onlyOne=!0),console.log(e.run),e.run&&(e.body.blocked.right?e.direction="left":e.body.blocked.left&&(e.direction="right"),"right"==e.direction?e.body.velocity.x=100:e.body.velocity.x=-100),(e.body.blocked.left||e.body.blocked.right)&&(e.run=!1,ge.time.events.add(1e3,(function(){e.run=!0}),this)),e.isUp=!1}),null,p),re.mainElements.player.obj.body.allowGravity=!0,ge.physics.arcade.collide(re.mainElements.kladki.poziom.obj,re.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(i.run||(i.run=!0),re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj,"kladki-poziom"),re.mainElements.player.obj.body.allowGravity=!0,re.mainElements.player.obj.body.bounce.y=0,i.isUp=!0,re.mainElements.player.obj.body.velocity.x+=i.body.velocity.x,re.mainElements.player.obj.body.allowGravity=!1,ge.time.events.remove(re.mainElements.kladki.kladkaPlayerBounceReset),re.mainElements.kladki.kladkaPlayerBounceReset=ge.time.events.add(200,(function(){re.mainElements.player.obj.body.bounce.y=.3}),this))}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.poziom.obj,re.mainElements.intruders.obj,(function(e,i){}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionTopBack.obj,re.mainElements.kladki.poziom.obj),ge.physics.arcade.collide(re.mainElements.kladki.pionTopBack.obj,re.mainElements.intruders.obj,(function(e,i){re.intruzCollisonNoBack(i)})),ge.physics.arcade.collide(re.mainElements.kladki.pionTopBack.obj,re.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.kladki.run.startCollision(i,"pionTopBack"))}),null,p),ge.physics.arcade.overlap(re.mainElements.kladki.pionTopBack.obj,j,(function(e,i){re.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionTopBack.obj,j,(function(e,i){re.mainElements.kladki.run.endCollision(e,"pionTopBack")}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionBottomBack.obj,re.mainElements.kladki.poziom.obj),ge.physics.arcade.collide(re.mainElements.kladki.pionBottomBack.obj,re.mainElements.intruders.obj,(function(e,i){re.intruzCollisonNoBack(i)})),ge.physics.arcade.collide(re.mainElements.kladki.pionBottomBack.obj,re.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.kladki.run.startCollision(i,"pionBottomBack"))}),null,p),ge.physics.arcade.overlap(re.mainElements.kladki.pionBottomBack.obj,j,(function(e,i){re.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionBottomBack.obj,j,(function(e,i){re.mainElements.kladki.run.endCollision(e,"pionBottomBack"),console.log(i)}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionTop.obj,re.mainElements.kladki.poziom.obj),ge.physics.arcade.collide(re.mainElements.kladki.pionTop.obj,re.mainElements.intruders.obj,(function(e,i){re.intruzCollisonNoBack(i)})),ge.physics.arcade.collide(re.mainElements.kladki.pionTop.obj,re.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.kladki.run.startCollision(i,"pionTop"))}),null,p),ge.physics.arcade.overlap(re.mainElements.kladki.pionTop.obj,j,(function(e,i){re.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionTop.obj,j,(function(e,i){re.mainElements.kladki.run.endCollision(e,"pionTop")}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionBottom.obj,re.mainElements.kladki.poziom.obj),ge.physics.arcade.collide(re.mainElements.kladki.pionBottom.obj,re.mainElements.intruders.obj,(function(e,i){re.intruzCollisonNoBack(i)})),ge.physics.arcade.collide(re.mainElements.kladki.pionBottom.obj,re.mainElements.player.obj,(function(e,i){i.body.overlapY>0&&(re.mainElements.player.checkIfWasKilledAndOther(re.mainElements.player.obj),re.mainElements.kladki.run.startCollision(i,"pionBottom"))}),null,p),ge.physics.arcade.overlap(re.mainElements.kladki.pionBottom.obj,j,(function(e,i){re.checkSpecialBlankBlockElementAndElevatorSound(i,e)}),null,p),ge.physics.arcade.collide(re.mainElements.kladki.pionBottom.obj,j,(function(e,i){re.mainElements.kladki.run.endCollision(e,"pionBottom")}),null,p),re.mainElements.player.gun.shot(re.mainElements.player),re.mainElements.player.gun.visualGun(re.mainElements.player),"object"===y(A[q.activeIdLevel])&&A[q.activeIdLevel].fog&&A[q.activeIdLevel].fogSpeed&&(B.x>=-2500?B.x=-3e3:B.x+=A[q.activeIdLevel].fogSpeed),q.backgroundParallax){if(A[q.activeIdLevel].background){var e=0;A[q.activeIdLevel].backgroundMoveX&&(e=-A[q.activeIdLevel].backgroundMoveX),L.cameraOffset.x=e-200-ge.camera.x/15}A[q.activeIdLevel].backgroundSecond&&(S.cameraOffset.x=-ge.camera.x/8)}re.mainElements.player.generateAgain&&!re.mainElements.player.gameOver&&(re.mainElements.player.obj.body.x=ee,re.mainElements.player.obj.body.y=ie,re.mainElements.player.obj.alpha=1,re.mainElements.player.obj.play("idle-right"),re.mainElements.player.generateAgain=!1),w.isDown&&(re.mainElements.player.obj.body.onFloor()||s("kladki",re.mainElements.logs.obj.children,!0)||s("kladki",re.mainElements.kladki.poziom.obj.children,!0)||s("kladki",re.mainElements.kladki.pionTopBack.obj.children,!0)||s("kladki",re.mainElements.kladki.pionBottomBack.obj.children,!0)||s("kladki",re.mainElements.kladki.pionTop.obj.children,!0)||s("kladki",re.mainElements.kladki.pionBottom.obj.children,!0)||re.mainElements.player.obj.youCanJump)&&ge.time.now>re.mainElements.player.jumpTimer&&(q.blockedKeys||(re.mainElements.player.obj.gForceWater?(re.mainElements.player.obj.body.velocity.y=-re.mainElements.player.velocityWater,re.mainElements.player.jumpTimer=ge.time.now+re.mainElements.player.velocityWater):re.mainElements.stoneBigS.keepStone?(re.mainElements.player.obj.body.velocity.y=-re.mainElements.player.velocityStone,re.mainElements.player.jumpTimer=ge.time.now+re.mainElements.player.velocityStone):(re.mainElements.player.obj.body.velocity.y=-re.mainElements.player.velocityNormal,re.mainElements.player.jumpTimer=ge.time.now+re.mainElements.player.velocityNormal),re.mainElements.player.obj.body.bounce.y||(re.mainElements.player.obj.body.bounce.y=.3))),re.mainElements.player.obj.t1||(re.mainElements.player.obj.onGround=!1),ge.physics.arcade.overlap(re.mainElements.player.obj,re.mainElements.cactusAnimateS.obj,(function(e,i){e.holdLostLife||q.blockedKeys||(re.mainElements.player.lostLife(e),re.jumpCollision(e,250))}),null,p),le||(re.windows.boxTopMenu.letAlways.show(),re.windows.boxTopMenu.f||(re.windows.boxTopMenu.let.show(),re.windows.boxTopMenu.f=!0))}},be=function(){console.log("########### Correct procent #############"),re.mainElements.player.numberCoinsLevelProcentLastMemory>re.mainElements.player.numberCoinsLevelProcent&&(re.mainElements.player.numberCoinsLevelProcent=re.mainElements.player.numberCoinsLevelProcentLastMemory,c("coins-procent-"+q.activeIdLevel,re.mainElements.player.numberCoinsLevelProcentLastMemory))},pe=function(){b("coins-procent-last-memory")>0&&b("id-level-last-memory")>0&&(console.log("################# cookies last level and last ID #################"),console.log(b("id-level-last-memory")+" = prcent:"+b("coins-procent-last-memory")),c("coins-procent-"+b("id-level-last-memory"),b("coins-procent-last-memory")),c("id-level-last-memory",b("id-level-last-memory")))};pe();var ye=function(){X.main&&(console.log("########### end game #############"),ge.world.removeAll(),M.destroy(),re.audio.bg.stop(),X.main=!1,re.mainElements.player.gameOver=!1,ce())},he={width:800,height:450,renderer:Phaser.AUTO,parent:"game-content",enableDebug:!1,state:{preload:de,create:ce,update:ue}},ge=new Phaser.Game(he);window.addEventListener("blur",(function(){X.main&&alert("x")})),window.addEventListener("focus",(function(){X.main}))}]);